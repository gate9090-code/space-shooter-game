"""
Siege Mode Configuration
타워 공격 미션 모드 설정
"""

# =========================================================
# 타일 설정
# =========================================================
TILE_SIZE = 64

# 타일 타입 정의
TILE_FLOOR = 0
TILE_WALL = 1
TILE_SAFE_ZONE = 2
TILE_TOWER = 3
TILE_GUARD_SPAWN = 4
TILE_PATROL_SPAWN = 5
TILE_DESTRUCTIBLE = 6
TILE_PLAYER_START = 7

# =========================================================
# 타워 설정
# =========================================================
TOWER_MAX_HP = 500
TOWER_SIZE = 64

# =========================================================
# 적 설정 (Siege Mode 전용)
# =========================================================
# Guard Enemy (고정 경계병)
GUARD_ENEMY_RANGE = 250  # 경계 범위
GUARD_ENEMY_HP = 50
GUARD_ENEMY_DAMAGE = 15
GUARD_ENEMY_FIRE_RATE = 1.0  # 초당 발사 횟수

# Patrol Enemy (순찰병)
PATROL_ENEMY_SPEED = 1.5
PATROL_ENEMY_HP = 40
PATROL_ENEMY_DAMAGE = 10
PATROL_ENEMY_PATROL_RADIUS = 150

# =========================================================
# 파괴 가능한 벽
# =========================================================
DESTRUCTIBLE_WALL_HP = 100

# =========================================================
# 스테이지 맵 데이터 (20x15 타일)
# =========================================================

# Stage 1: Simple Maze
SIEGE_MAP_1 = [
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    [1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
    [1,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,4,1,0,1],
    [1,0,1,0,1,1,1,1,6,1,1,6,1,1,1,1,0,1,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,0,1],
    [1,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,1],
    [1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,0,1,0,1,1,1,1,6,1,1,6,1,1,1,1,0,1,0,1],
    [1,0,1,4,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,1],
    [1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

# Stage 2: Complex Maze with more obstacles
SIEGE_MAP_2 = [
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    [1,7,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1],
    [1,1,1,0,1,0,1,1,1,6,1,6,1,1,1,0,1,0,1,1],
    [1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1],
    [1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
    [1,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,1],
    [1,0,1,1,1,6,1,1,0,1,1,1,0,1,1,6,1,1,1,1],
    [1,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,1],
    [1,1,1,1,1,6,1,1,0,1,1,1,0,1,1,6,1,1,1,1],
    [1,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,1],
    [1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1],
    [1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1],
    [1,1,0,1,0,1,1,1,6,1,1,6,1,1,1,0,1,0,1,1],
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

# Stage 3: Very Complex Maze
SIEGE_MAP_3 = [
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    [1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,1,1,1,1,1,1,6,1,1,1,1,6,1,1,1,1,1,1,1],
    [1,2,0,4,0,0,0,0,0,0,0,0,0,0,0,5,0,4,2,1],
    [1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,1,1],
    [1,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,1],
    [1,0,1,1,6,1,1,1,0,1,1,1,0,1,1,1,6,1,1,1],
    [1,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,1],
    [1,1,1,1,6,1,1,1,0,1,1,1,0,1,1,1,6,1,1,1],
    [1,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,1],
    [1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,1,1],
    [1,2,0,4,0,0,0,0,0,0,0,0,0,0,0,5,0,4,2,1],
    [1,1,1,1,1,1,1,6,1,1,1,1,6,1,1,1,1,1,1,1],
    [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
]

# 맵 딕셔너리
SIEGE_MAPS = {
    1: SIEGE_MAP_1,
    2: SIEGE_MAP_2,
    3: SIEGE_MAP_3,
}

# =========================================================
# 스테이지 정보
# =========================================================
SIEGE_STAGES = {
    1: {
        "name": "외곽 초소",
        "name_en": "OUTPOST",
        "difficulty": "Easy",
        "guard_count": 2,
        "patrol_count": 0,
        "towers": 2,
        "background": "siege_stage1.jpg",
    },
    2: {
        "name": "중앙 기지",
        "name_en": "CENTRAL BASE",
        "difficulty": "Medium",
        "guard_count": 4,
        "patrol_count": 2,
        "towers": 3,
        "background": "siege_stage2.jpg",
    },
    3: {
        "name": "사령부",
        "name_en": "COMMAND CENTER",
        "difficulty": "Hard",
        "guard_count": 4,
        "patrol_count": 2,
        "towers": 3,
        "background": "siege_stage3.jpg",
    },
}

# =========================================================
# 미션 클리어 조건
# =========================================================
def check_mission_complete(towers_alive: int) -> bool:
    """
    미션 완료 조건 확인 (모든 타워 파괴)

    Args:
        towers_alive: 생존한 타워 수

    Returns:
        미션 완료 여부
    """
    return towers_alive == 0

print("INFO: config_siege.py loaded")
