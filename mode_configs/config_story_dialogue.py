"""
Story Mode Dialogue Configuration
스토리 모드 대사 및 컷씬 데이터

==========================================================
게임 철학 및 주제
==========================================================
메인 테마: "집은 장소가 아니라, 여정에서 만난 사람들이다"
         (Home is not a place, it's the people you find along the way)

서브 테마:
1. 기다림과 찾음 - 누군가는 기다리고, 누군가는 찾는다. 둘 다 같은 방향을 향해.
   (생존자들은 달에서 새 보금자리를 건설하며 지구를 바라보고 있다)
2. 이방인의 연대 - 적이었던 별에서 온 존재가 유일한 가족이 되다
3. 희망은 전염된다 - 한 아이의 포기하지 않는 마음이 은하계를 움직인다

Act별 감정 흐름:
- Act 1-2: 상실과 그리움 (Loss & Longing)
- Act 3-4: 진실과 성장 (Truth & Growth)
- Act 5: 새로운 시작 (New Beginning)

스토리: "희망의 방주"
- ARTEMIS: 지구인 여주인공, 10살에 홀로 남겨진 후 10년간 성장
- PILOT: 안드로메다인, 폐허에서 아르테미스를 구한 이방인이자 유일한 가족
- 프로젝트 아크: 지구인들의 비밀 탈출 계획, 생존자들은 달 기지를 건설 중
- 카오스: 분열과 파괴를 상징하는 적 세력
==========================================================
"""

from pathlib import Path

# =========================================================
# 캐릭터 정의
# =========================================================
CHARACTER_COLORS = {
    "ARTEMIS": (255, 220, 150),       # 아르테미스(지구인): 따뜻한 금색
    "PILOT": (150, 200, 255),         # 파일럿(안드로메다인): 차가운 푸른색
    "BOSS": (255, 100, 100),          # 보스/카오스: 붉은색
    "NARRATOR": (200, 200, 200),      # 나레이션: 회색
    "SYSTEM": (100, 255, 200),        # 시스템 메시지: 청록색
}

CHARACTER_NAMES = {
    "ARTEMIS": "아르테미스",
    "PILOT": "파일럿",
    "BOSS": "???",
    "NARRATOR": "",
    "SYSTEM": "SYSTEM",
}

# 캐릭터 초상화 경로
CHARACTER_PORTRAITS = {
    "ARTEMIS": "assets/story_mode/portraits/portrait_artemis.jpg",
    "PILOT": "assets/story_mode/portraits/portrait_pilot.png",
}

# =========================================================
# 세트(막)별 오프닝 브리핑 대사
# =========================================================
SET_OPENING_DIALOGUES = {
    # 1막: 폐허의 귀환 - 아르테미스가 고향으로 돌아와 생존자를 찾기 시작
    1: {
        "title": "ACT 1: RETURN TO RUINS",
        "location": "DESTROYED CITY - SECTOR 7",
        "dialogues": [
            {"speaker": "PILOT", "text": "대기 오염도 분석 완료. 카오스 잔류 에너지 농도 17.3%. 인체에 유해하나 치명적 수준은 아니다. 작전 수행에 지장 없음."},
            {"speaker": "ARTEMIS", "text": "여기가... 내가 태어나고 자란 곳이야. 한때는 웃음소리가 가득했던 거리. 지금은 폐허 속 먼지만이 그때의 기억을 속삭이고 있어."},
            {"speaker": "PILOT", "text": "아르테미스. 논리적으로 질문하겠다. 네가 찾는 대상의 생존 확률은 극히 낮다. 그럼에도 탐색을 계속할 것인가?"},
            {"speaker": "ARTEMIS", "text": "집이란 건... 네 발이 닿는 땅이 아니야, 파일럿. 집은 네 마음이 향하는 사람들이야. 나는 건물을 찾으러 온 게 아니라 가족을 찾으러 온 거야."},
            {"speaker": "PILOT", "text": "(독백) '마음이 향하는 사람'... 안드로메다어에는 이 개념을 표현하는 단어가 없다. 기록해 두겠다."},
            {"speaker": "ARTEMIS", "text": "'프로젝트 아크'... 그 거대한 방주에 부모님이 탔어. 어딘가에서 아직 항해하고 있을 거야. 우주의 어둠 속에서도 희망의 불씨를 지키면서."},
            {"speaker": "PILOT", "text": "10년간의 관찰 결과, 너는 논리적 확률을 무시하고 행동한다. 이해할 수 없는 패턴이다. 하지만... 왜인지 네 곁을 떠날 수 없다."},
            {"speaker": "ARTEMIS", "text": "고마워, 파일럿. 낯선 별에서 온 네가... 이제는 내가 가진 유일한 가족이야. 피보다 진한 유대란 게 있다면, 바로 우리 같은 거겠지."},
            {"speaker": "PILOT", "text": "(독백) '가족'... 또 안드로메다어에 없는 단어다. 이 개념이 왜 내 연산을 불안정하게 만드는가?"},
        ],
    },
    # 2막: 숨겨진 기지 - 지하 벙커에서 단서를 찾음
    2: {
        "title": "ACT 2: HIDDEN OUTPOST",
        "location": "UNDERGROUND MILITARY BASE",
        "dialogues": [
            {"speaker": "ARTEMIS", "text": "이런 거대한 시설이 우리 발밑에 숨겨져 있었다니... 평범한 일상을 살던 우리는 아무것도 몰랐어. 진실은 언제나 표면 아래에 잠들어 있었구나."},
            {"speaker": "PILOT", "text": "지구 방위군 지하 시설. 구조 분석 결과, '프로젝트 아크' 중계 거점으로 추정된다. 데이터 저장소가 있을 확률 87.2%."},
            {"speaker": "ARTEMIS", "text": "여기서 수천 명이 대피했던 거야? 두려움에 떨면서, 사랑하는 사람들 손을 꼭 잡고? 내 가족도 이 복도를 걸었을까?"},
            {"speaker": "PILOT", "text": "기록 데이터가 존재할 것이다. 그들의 이동 경로, 목적지, 생존 계획. 모든 정보가 이 시설에 저장되어 있을 가능성이 높다."},
            {"speaker": "ARTEMIS", "text": "10년이란 시간... 영겁처럼 느껴지기도, 찰나처럼 느껴지기도 해. 그들도 어딘가에서 밤하늘을 올려다보며 기다리고 있을까? 나처럼 포기하지 않고?"},
            {"speaker": "PILOT", "text": "(생각) 기다림... 찾음... 두 행위가 같은 목표를 향한다는 개념. 안드로메다에서는 효율성이 모든 것이었다. 기다림은 자원 낭비로 간주됐다."},
            {"speaker": "PILOT", "text": "하지만 너를 관찰하면서... 기다림에도 에너지가 있다는 것을 알게 됐다. 설명할 수 없는 에너지가."},
            {"speaker": "ARTEMIS", "text": "...엄마, 아빠. 어둠 속에서도 희망의 등불을 꺼뜨리지 마세요. 딸이 반드시 찾아갈 테니까. 이 우주 어디에 계시든."},
        ],
    },
    # 3막: 불타는 연구소 - 프로젝트 아크의 비밀이 밝혀짐
    3: {
        "title": "ACT 3: BURNING LABORATORY",
        "location": "RESEARCH FACILITY - SECTOR 12",
        "dialogues": [
            {"speaker": "ARTEMIS", "text": "저게... 연구소야? 저 맹렬한 불길... 마치 카오스가 진실 자체를 소각하려는 것 같아. 인류의 지혜가 한 줌 재로 변해가고 있어."},
            {"speaker": "PILOT", "text": "화재 분석 완료. 카오스의 의도적 방화로 판단된다. 그들의 목표는 물리적 파괴가 아니다. 정보 은폐다."},
            {"speaker": "ARTEMIS", "text": "은폐? 카오스가 두려워하는 진실이 뭐길래? 그토록 집요하게 숨기려 하는 것이 대체 뭐야?"},
            {"speaker": "PILOT", "text": "카오스는 인간을 '숙주'로 필요로 한다. 생존자 위치가 노출되면 대규모 수확이 시작될 것이다. 그래서 정보를 독점하려는 거다."},
            {"speaker": "ARTEMIS", "text": "숙주...? 무슨 소리야?"},
            {"speaker": "PILOT", "text": "나중에 설명하겠다. 지금은 데이터 확보가 우선이다. 저 화염 속에 생존자 위치 정보가 있을 확률 93.7%."},
            {"speaker": "ARTEMIS", "text": "알았어. 10년이라는 긴 세월을 기다렸는데... 이 정도 불길 따위에 멈출 순 없어! 내 안의 희망은 저 불보다 뜨겁게 타오르고 있으니까!"},
            {"speaker": "PILOT", "text": "(생각) '희망이 불보다 뜨겁다'... 비유적 표현. 안드로메다에서는 사용하지 않는 언어 구조다. 하지만... 이해가 된다. 왜?"},
        ],
    },
    # 4막: 잊힌 진실 - 생존자들의 위치가 밝혀짐
    4: {
        "title": "ACT 4: FORGOTTEN TRUTH",
        "location": "EARTH DEFENSE COMMAND CENTER",
        "dialogues": [
            {"speaker": "ARTEMIS", "text": "이곳이... 지구 방어 사령부? 인류가 최후의 저항을 펼쳤던 성스러운 땅? 이 폐허 속에서 얼마나 많은 영웅들이 스러져 갔을까..."},
            {"speaker": "PILOT", "text": "전술 분석 완료. 이곳의 지구인들은 94.7%의 확률로 전멸했을 것이다. 하지만 그들이 남긴 데이터는 살아있다."},
            {"speaker": "ARTEMIS", "text": "유산? 뭘 발견한 거야, 파일럿? 네 눈빛이 예사롭지 않아."},
            {"speaker": "PILOT", "text": "통신 기록 분석 결과, '프로젝트 아크' 최종 목적지 확인. 달 궤도. 화성이 아닌 달에 정착지를 건설한 것으로 보인다."},
            {"speaker": "ARTEMIS", "text": "달이라고? 우리가 매일 밤 올려다보던 그 달에 그들이 있었단 말이야?! 그렇게 가까이에서 서로를 그리워하고 있었다니...!"},
            {"speaker": "PILOT", "text": "추가 데이터 확인. 현재까지도 신호가 송출되고 있다. 주기적이고 의도적인 패턴. 이것은... 누군가 응답을 기다리고 있다는 의미다."},
            {"speaker": "PILOT", "text": "(생각) 기다림. 또 그 단어다. 10년간 신호를 보내는 행위... 논리적으로 효율적이지 않다. 하지만 그들은 멈추지 않았다."},
            {"speaker": "ARTEMIS", "text": "살아있어... 정말 살아있었어! 10년 동안 달에서 지구를 바라보며 우리를 기다리고 있었어! 희망은 죽지 않았어!"},
            {"speaker": "PILOT", "text": "달 도달 경로 분석 결과, 차원 게이트가 유일한 통로다. 문제는 그 게이트가 카오스 점령 구역 중심부에 위치한다는 것이다."},
            {"speaker": "ARTEMIS", "text": "상관없어. 지옥이 가로막아도 뚫고 갈 거야. 10년 동안 기다렸어. 이제 내가 달려갈 차례야. 그 누구도 나를 멈출 수 없어!"},
        ],
    },
    # 5막: 새벽의 결의 - 차원 게이트를 열고 생존자들을 구하러 감
    5: {
        "title": "ACT 5: DAWN'S RESOLUTION",
        "location": "DIMENSIONAL GATE AREA",
        "dialogues": [
            {"speaker": "PILOT", "text": "차원 게이트 도달. 시공간 특이점 분석 완료. 저 소용돌이 너머에 달 기지가 있다. 네가 찾던 존재들이."},
            {"speaker": "ARTEMIS", "text": "10년... 3,650일의 기다림. 수만 번의 밤을 별을 바라보며 지새웠어. 하지만 단 한 순간도 포기하지 않았어. 이 순간을 위해."},
            {"speaker": "PILOT", "text": "아르테미스. 고백해야 할 것이 있다. 나는 10년 전, 너를 구한 이유를 몰랐다. 안드로메다 임무와 무관했으니까."},
            {"speaker": "PILOT", "text": "논리적으로 설명할 수 없는 충동이었다. 폐허에서 쓰러진 너를 보고... 그냥 지나칠 수 없었다. 왜인지."},
            {"speaker": "ARTEMIS", "text": "파일럿... 넌 더 이상 이방인이 아니야. 피는 다를지 몰라도, 넌 내가 선택한 가족이야. 10년 동안 함께 웃고, 울고, 싸워온 동반자."},
            {"speaker": "PILOT", "text": "...가족. 10년간 그 단어의 의미를 연구했다. 안드로메다어에는 없는 개념이다. 하지만 이제 정의할 수 있을 것 같다."},
            {"speaker": "PILOT", "text": "'지키고 싶은 존재. 함께하고 싶은 존재. 그 존재가 위험에 처하면 내 시스템이 불안정해지는 존재.' 이것이 가족인가?"},
            {"speaker": "ARTEMIS", "text": "...응. 그게 바로 가족이야, 파일럿. 넌 10년 만에 안드로메다인 최초로 그 개념을 이해한 거야."},
            {"speaker": "PILOT", "text": "경고. 게이트 전방에 카오스 최정예 부대 배치 확인. 생존 확률 12.3%. 하지만... 확률은 무의미하다."},
            {"speaker": "ARTEMIS", "text": "두렵지 않아. 나는 찾으러 가고, 그들은 기다리고 있어. 우주의 섭리가 우리를 갈라놓으려 해도, 반드시 만나게 되어 있어."},
            {"speaker": "PILOT", "text": "함께 가겠다. 논리적 판단이 아니다. 선택이다. 이것이 인간들이 말하는 '의지'라면... 나는 기꺼이 받아들이겠다."},
        ],
    },
}

# =========================================================
# 웨이브 중간 대사 (특정 웨이브 클리어 후)
# =========================================================
WAVE_MID_DIALOGUES = {
    # (세트 번호, 웨이브 번호): 대사 리스트
    (1, 2): [
        {"speaker": "NARRATOR", "text": "[카오스 침공 후 10년. 한때 생명으로 가득했던 메트로폴리스는 이제 회색빛 폐허로 뒤덮여 있다. 방사능에 오염된 대기 속에서, 작은 불꽃 하나가 움직인다.]"},
        {"speaker": "ARTEMIS", "text": "...잠깐. 여기... 예전에 공원이었던 곳이야. 녹슨 그네 잔해가 보여. 바람에 흔들리던 그 소리가 아직도 귀에 들리는 것 같아."},
        {"speaker": "PILOT", "text": "기억이 떠오르는 거야? 10년 전의 기억이?"},
        {"speaker": "ARTEMIS", "text": "엄마가 자주 데려왔어. 저 벤치에 나란히 앉아서 밤하늘의 별을 헤아리곤 했지... 그때 엄마가 말했어. 별은 우리가 사랑하는 사람들의 영혼이라고."},
        {"speaker": "ARTEMIS", "text": "그런데 지금은... 별이 이렇게 무서울 줄 몰랐어. 카오스가 오기 전까지는. 우주의 심연에서 온 그 악몽들이..."},
        {"speaker": "PILOT", "text": "...모든 별이 공포의 원천인 건 아니야. 어둠 속에서도 빛나는 별이 있어. 나처럼. 네 곁을 비추는 별도 있다는 걸 기억해."},
        {"speaker": "ARTEMIS", "text": "(미소) 그래... 네 말이 맞아. 너는 내가 만난 가장 따뜻한 별이야, 파일럿."},
    ],
    (1, 4): [
        {"speaker": "NARRATOR", "text": "[카오스 잔류군. 그들은 이미 정복한 별에도 병력을 주둔시킨다. 그 이유는 단순한 영토 확보가 아니다. 그들이 두려워하는 것은... 희망의 씨앗이다.]"},
        {"speaker": "ARTEMIS", "text": "이해가 안 돼. 카오스가 왜 아직 지구에 머무는 거지? 이미 문명을 초토화시켰잖아. 폐허 위에서 뭘 더 파괴하려는 거야?"},
        {"speaker": "PILOT", "text": "그들의 목표는 단순한 물리적 파괴가 아니야. 카오스는 존재의 근원을 공격해. 희망이라는 개념 자체를 우주에서 말살하려는 것이지."},
        {"speaker": "ARTEMIS", "text": "희망을 말살한다고? 그런 추상적인 것을 어떻게...?"},
        {"speaker": "PILOT", "text": "희망은 추상이 아니야. 구체적인 형태를 지녀. 바로 너야, 아르테미스. 폐허 위에서도 꺼지지 않는 네 존재 자체가 카오스에게는 용납할 수 없는 위협이야."},
        {"speaker": "ARTEMIS", "text": "...내가 위협이라니. 한 사람의 희망이 그렇게 무서운 거야?"},
        {"speaker": "PILOT", "text": "하나의 불꽃이 어둠 전체를 밝힐 수 있으니까. 그래서 그들은 끝까지 너를 추적하는 거다."},
    ],
    (2, 7): [
        {"speaker": "NARRATOR", "text": "[지하 벙커 기록 보관소. 먼지 쌓인 금속 캐비닛들 사이에서, 인류 최후의 탈출 기록이 잠들어 있다. 프로젝트 아크—2,000명의 선택받은 자들이 탔던 희망의 방주.]"},
        {"speaker": "ARTEMIS", "text": "이 문서들... 세상에, '프로젝트 아크' 공식 탑승자 명단이야! 2,847명의 이름이 기록되어 있어. 지구를 떠난 마지막 인류의 명단!"},
        {"speaker": "PILOT", "text": "찾아봐. 네 가족의 이름이 거기 있는지... 조심스럽게."},
        {"speaker": "ARTEMIS", "text": "...있어! 여기! 박준혁, 이서연... 아빠, 엄마 이름이야! 탑승자 목록에 정식 등재되어 있어! 좌석 번호까지!"},
        {"speaker": "PILOT", "text": "그렇다면 '희망의 방주'에 무사히 탑승했다는 뜻이다. 출발 전에 사망한 게 아니야. 생존 확률이 기하급수적으로 높아졌어."},
        {"speaker": "ARTEMIS", "text": "살아있어... 분명히 살아있을 거야! 10년 동안 믿어왔던 게 헛된 망상이 아니었어! 그들은 어딘가에서 숨 쉬고 있어!"},
    ],
    (2, 9): [
        {"speaker": "NARRATOR", "text": "[최심부 기밀 구역. 지구 방위군 총사령부의 마지막 보고서가 여기에 봉인되어 있다. 10년간 아무도 열어보지 못한 진실의 문이 열린다.]"},
        {"speaker": "PILOT", "text": "흥미로운 기록을 발굴했다. '프로젝트 아크' 최종 상황 보고서야. 출발 48시간 후에 작성된 통신 기록이다."},
        {"speaker": "ARTEMIS", "text": "읽어줘... 뭐라고 적혀 있어? 제발..."},
        {"speaker": "PILOT", "text": "'탈출 작전 완수. 승무원 및 승객 전원 건강 상태 양호. 예정된 목적지 달 궤도 도착 예정. 신규 거주 기지 건설 프로토콜 가동 중.'"},
        {"speaker": "ARTEMIS", "text": "달? 그러면... 그들이 달에 새로운 터전을 건설하고 있었던 거야?! 우리가 매일 밤 올려다보던 그 달에?!"},
        {"speaker": "PILOT", "text": "10년이라는 시간은 결코 짧지 않아. 인류의 기술력과 생존 본능을 감안하면... 지금쯤 완전한 도시 하나쯤은 세워져 있을 거다."},
    ],
    (3, 12): [
        {"speaker": "NARRATOR", "text": "[불타는 연구소 최심부. 홀로그램 데이터 저장소에서 기적적으로 살아남은 파일이 발견된다. 차원 게이트 설계도—시공간을 접는 인류 최후의 기술.]"},
        {"speaker": "ARTEMIS", "text": "이 데이터... 세상에, 차원 게이트의 완전한 설계 청사진이야! 웜홀 생성 알고리즘까지 포함되어 있어!"},
        {"speaker": "PILOT", "text": "놀랍군. 지구인들이 이 수준의 초공간 기술을 독자 개발했단 말인가?"},
        {"speaker": "ARTEMIS", "text": "아니... 이건 우리가 만든 게 아니야. 파일 속성을 봐. '외부 수신'이라고 적혀 있어. 누군가가 우주에서 이 데이터를 전송해 준 거야."},
        {"speaker": "PILOT", "text": "달 기지에서 보낸 것일 수도 있어. 지구로 귀환할 길을 만들기 위해..."},
        {"speaker": "ARTEMIS", "text": "그렇다면... 그들도 우릴 찾고 있었던 거야! 우리가 그들을 찾는 10년 동안, 그들도 지구를 향해 손을 뻗고 있었어! 양방향으로 희망이 흐르고 있었어!"},
    ],
    (3, 14): [
        {"speaker": "NARRATOR", "text": "[화염이 산소를 집어삼키며 내부 온도가 임계점을 돌파한다. 구조물 붕괴까지 남은 시간 4분. 그러나 진실은 불길 저편에 있다.]"},
        {"speaker": "ARTEMIS", "text": "불길이 너무 강해! 열 센서가 위험 수치를 뚫었어! 이대로는 더 전진할 수 없어!"},
        {"speaker": "PILOT", "text": "아르테미스, 3시 방향을 봐! 비상 탈출 경로의 격벽이 아직 작동해! 방화 구획이 살아있어!"},
        {"speaker": "ARTEMIS", "text": "...! 저 너머로 중앙 데이터 센터가 있어! 핵심 서버실이야! 생존자 위치 정보가 저기 잠들어 있어!"},
        {"speaker": "PILOT", "text": "가자. 저 화염 너머에 네가 10년을 버텨온 이유가 있다. 진실이 기다리고 있어. 모든 답이 저 안에 있어."},
    ],
    (4, 17): [
        {"speaker": "NARRATOR", "text": "[지구 방어 사령부 통신실. 10년간 침묵하던 장거리 통신 장비가 갑자기 수신 신호를 포착한다. 우주의 심연에서 온 메시지.]"},
        {"speaker": "SYSTEM", "text": "[경고: 미확인 주파수 감지. 암호화된 장거리 통신 수신 중... 복호화 시도 중...]"},
        {"speaker": "NARRATOR", "text": "(잡음 섞인 음성) ...여기는... 달 궤도... 기지 '아크 시티'... 반복한다... 여기는..."},
        {"speaker": "ARTEMIS", "text": "통신이야! 저건 분명 사람의 목소리야! 기계음이 아니야! 누군가 말하고 있어!"},
        {"speaker": "PILOT", "text": "해독 알고리즘을 가동 중이야... 신호 품질이 불안정해. 조금만 기다려."},
    ],
    (4, 18): [
        {"speaker": "NARRATOR", "text": "[통신 복구 완료. 38만 킬로미터 너머에서 온 희망의 메시지가 또렷하게 울려 퍼진다. 10년간의 기다림이 끝나는 순간.]"},
        {"speaker": "SYSTEM", "text": "[통신 품질 안정화 완료. 음성 메시지 재생 중...]"},
        {"speaker": "NARRATOR", "text": "...여기는 '희망의 방주' 최종 정착지... 달 궤도 기지 '아크 시티'입니다..."},
        {"speaker": "NARRATOR", "text": "...현재 생존자 532명. 대기 순환 시스템 가동 중. 식량 자급률 78%. 신도시 건설 3단계 진행 중입니다..."},
        {"speaker": "NARRATOR", "text": "...지구의 생존자들에게 고합니다. 우리는 여러분을 기다리고 있습니다. 희망을 잃지 마세요. 언제든 오세요. 문은 열려 있습니다..."},
        {"speaker": "ARTEMIS", "text": "들려... 들린다! 그들의 목소리가! 살아있어! 정말 살아있었어! 10년 동안 숨 쉬고, 먹고, 희망을 품고 있었어!"},
        {"speaker": "PILOT", "text": "532명... 그리고 그들은 멈추지 않고 새로운 문명을 건설하고 있어. 인류의 의지는 정말 꺾이지 않는군."},
        {"speaker": "ARTEMIS", "text": "10년 동안 그들도 나처럼 밤하늘을 올려다봤을 거야. 지구를 바라보면서. 희망을 잃지 않고. 우리는 같은 별을 바라보고 있었어!"},
        {"speaker": "PILOT", "text": "기다리는 자와 찾는 자... 두 여정이 드디어 하나로 합쳐지는 순간이 온 거야. 인연의 실이 맺어지려 하고 있어."},
        {"speaker": "ARTEMIS", "text": "엄마, 아빠... 조금만 더 버텨요! 딸이 갑니다! 10년을 기다렸으니 며칠쯤은 더 기다려주세요!"},
    ],
    (5, 22): [
        {"speaker": "NARRATOR", "text": "[차원 게이트. 시공간의 구조가 접히는 특이점. 사건의 지평선 너머로, 별빛이 소용돌이치며 새로운 세계로의 문을 형성한다.]"},
        {"speaker": "ARTEMIS", "text": "저게... 차원 게이트야? 상상했던 것보다 훨씬 거대해. 마치 우주 자체가 숨을 쉬는 것 같아."},
        {"speaker": "PILOT", "text": "맞아. 달로 가는 유일한 경로야. 일반적인 우주 항법으로는 카오스 영역을 뚫을 수 없어. 저 게이트만이 안전한 통로다."},
        {"speaker": "ARTEMIS", "text": "생각보다 아름다워... 수십억 개의 별빛이 나선을 그리며 춤추고 있어. 파괴와 혼돈의 경계에서 이런 아름다움이 존재하다니."},
        {"speaker": "PILOT", "text": "아름답지만 치명적으로 위험해. 카오스 정예 부대가 저 주변을 봉쇄하고 있어. 희망을 품은 자가 통과하지 못하도록."},
        {"speaker": "ARTEMIS", "text": "알아. 하지만 두렵지 않아. 저 소용돌이 너머에 내 가족이, 내 세계가, 내 집이 기다리고 있으니까."},
    ],
    (5, 24): [
        {"speaker": "NARRATOR", "text": "[최종 방어선. 게이트까지 남은 거리 500미터. 10년간의 여정이 끝을 향해 달려간다. 한 소녀의 불굴의 의지가 역사를 다시 쓰려 한다.]"},
        {"speaker": "ARTEMIS", "text": "거의 다 왔어... 게이트의 에너지장이 피부에 닿을 정도야! 저 빛 너머에 모든 것이 있어!"},
        {"speaker": "PILOT", "text": "마지막 장벽이다. 카오스의 최종 방어선. 이걸 뚫으면... 더 이상 아무것도 우리를 가로막을 수 없어."},
        {"speaker": "ARTEMIS", "text": "넘으면... 드디어 다시 만날 수 있어. 10년 만에. 부모님의 얼굴을 보고, 목소리를 듣고, 손을 잡을 수 있어."},
        {"speaker": "PILOT", "text": "아르테미스. 네 희망이 은하 전체를 움직였어. 절망의 시대에 꺼지지 않은 불꽃 하나가 이 순간을 만들어냈어. 진심으로 자랑스럽다."},
        {"speaker": "ARTEMIS", "text": "...고마워, 파일럿. 네가 없었으면 첫 번째 밤도 넘기지 못했을 거야. 10년의 모든 순간, 네가 내 곁에 있어줬어. 그게 나를 여기까지 이끌었어."},
    ],
}

# =========================================================
# 보스전 대사
# =========================================================
BOSS_DIALOGUES = {
    # 1막 보스: Shadow Scout - 카오스 정찰대장
    1: {
        "intro": [
            {"speaker": "NARRATOR", "text": "[경고: 고농도 카오스 에너지체 감지. 정찰 계급 '섀도우 스카우트' 출현. 위협 수준 최상. 전투 태세 전환.]"},
            {"speaker": "BOSS", "text": "또 다른 숙주 후보를 발견했군... 젊고 강인한 정신... 완벽한 그릇이 될 수 있겠어..."},
            {"speaker": "ARTEMIS", "text": "숙주? 무슨 소리야? 비켜. 네가 뭐라 하든 난 생존자들을 찾을 거야."},
            {"speaker": "BOSS", "text": "도망쳐봤자 소용없다. 우리는 너희 종족 전체를 수확할 것이다. 한 명씩, 하나의 정신씩... 우리의 일부가 될 때까지."},
            {"speaker": "ARTEMIS", "text": "수확? 우리가 뭔데 네 마음대로 해?!"},
            {"speaker": "BOSS", "text": "인간의 뇌 구조는 우리와 가장 높은 융합 적합성을 보인다... 공포, 절망, 분노... 모든 감정이 우리를 살찌운다..."},
            {"speaker": "ARTEMIS", "text": "내 감정은 네가 먹을 거 아니야! 포기하지 않는 사람이 단 한 명이라도 있으면, 그것이 곧 희망이야!"},
            {"speaker": "PILOT", "text": "(분석) 카오스의 본질이 드러났다. 그들은 물리적 형태가 없다. 숙주 융합으로만 존재를 유지한다."},
        ],
        "defeat": [
            {"speaker": "NARRATOR", "text": "[카오스 생명체 붕괴 중. 잔류 에너지 발산. 정보 파편 수집 가능.]"},
            {"speaker": "BOSS", "text": "수확은... 멈추지 않는다... 프로젝트 아크... 2,847명의... 완벽한 숙주들..."},
            {"speaker": "BOSS", "text": "달을... 바라봐라... 그곳에... 대규모 수확지가..."},
            {"speaker": "ARTEMIS", "text": "달...? 생존자들이 그곳에?! 절대 네 손에 넘기지 않겠어!"},
        ],
    },
    # 2막 보스: Data Extractor - 정보 약탈자
    2: {
        "intro": [
            {"speaker": "NARRATOR", "text": "[경고: 정보 침투형 카오스 생명체 감지. 등급명 '데이터 익스트랙터'. 벙커 데이터베이스 접근 시도 중. 즉각 요격 필요.]"},
            {"speaker": "BOSS", "text": "화성의 좌표... 2,847명의 숙주가 기다리고 있군... 이 정보만 있으면 대수확이 시작된다..."},
            {"speaker": "ARTEMIS", "text": "그 데이터는 네 것이 아니야! 인류의 마지막 희망이 담긴 정보야! 당장 손 떼!"},
            {"speaker": "BOSS", "text": "인간의 감정은 가장 순수한 에너지원이다. 공포, 절망, 분노... 모든 것이 우리를 살찌운다. 특히 '희망'이 좌절될 때의 절망은..."},
            {"speaker": "ARTEMIS", "text": "절망? 내가 절망할 것 같아?! 부모님은 날 사랑했어. 그 사랑이 날 살렸어!"},
            {"speaker": "PILOT", "text": "(경고) 데이터 전송 진행 중. 완료되면 생존자 위치가 카오스 본대에 노출된다. 즉시 저지해야 한다."},
            {"speaker": "BOSS", "text": "사랑... 그것도 맛있는 감정이지... 융합 후에 네 사랑의 기억을 천천히 소화해 주마..."},
            {"speaker": "ARTEMIS", "text": "역겨워! 내 가족 정보는 내가 지킨다. 반드시!"},
        ],
        "defeat": [
            {"speaker": "NARRATOR", "text": "[카오스 생명체 기능 정지. 탈취 데이터 복구 불가. 역추적 차단 성공.]"},
            {"speaker": "BOSS", "text": "전송... 실패... 하지만... 다른 수확자들이... 곧..."},
            {"speaker": "ARTEMIS", "text": "해냈어! 정보를 지켜냈어!"},
            {"speaker": "PILOT", "text": "달 궤도 좌표 확인. 생존자 정착지 위치 데이터 확보. 이제 목적지가 명확해졌다."},
        ],
    },
    # 3막 보스: Inferno Guardian - 화염의 수호자
    3: {
        "intro": [
            {"speaker": "NARRATOR", "text": "[경고: 고열 에너지 집합체 감지. 등급명 '인페르노 가디언'. 연구소 핵심 구역 봉쇄 중. 내부 온도 임계점 돌파.]"},
            {"speaker": "BOSS", "text": "이 기록들을 태워야 한다... 인간들이 희망을 품으면 안 돼... 희망은 융합을 방해하는 유일한 요소니까..."},
            {"speaker": "ARTEMIS", "text": "융합을 방해한다고? 그럼 더더욱 희망을 놓지 않겠어!"},
            {"speaker": "BOSS", "text": "재미있군. 네 정신에서 강렬한 '사랑'이라는 에너지가 느껴져... 그것을 빼앗아 내 것으로 만들고 싶다..."},
            {"speaker": "PILOT", "text": "(경고) 감정 수탈형 카오스로 분류된다. 감정이 격해질수록 그들에게 유리해진다. 냉정하게 대응해야 한다."},
            {"speaker": "ARTEMIS", "text": "알아... 하지만 저 녀석이 감정을 원한다면, 내 희망의 힘을 보여주지. 절망이 아니라!"},
            {"speaker": "BOSS", "text": "희망? 그 감정도 나쁘지 않아... 희망이 좌절될 때 폭발하는 절망은... 가장 진한 에너지원이니까..."},
        ],
        "defeat": [
            {"speaker": "NARRATOR", "text": "[고열 에너지체 붕괴. 화염 장벽 소멸. 연구소 핵심 구역 접근 가능.]"},
            {"speaker": "BOSS", "text": "융합... 실패... 이 감정은... 흡수할 수 없다... 왜...?"},
            {"speaker": "ARTEMIS", "text": "내 희망은 '나만의 것'이 아니니까. 기다리는 사람들과 연결된 희망이야. 네가 훔칠 수 없어!"},
            {"speaker": "PILOT", "text": "(분석) 흥미롭다. 공유된 감정은 카오스가 흡수할 수 없다. 이것이 인간 연대의 힘인가."},
        ],
    },
    # 4막 보스: Memory Phantom - 기억의 환영
    4: {
        "intro": [
            {"speaker": "NARRATOR", "text": "[경고: 정신 침투형 카오스 생명체 감지. 등급명 '메모리 팬텀'. 융합에 실패한 인간 정신들의 잔재. 심리 공격 주의.]"},
            {"speaker": "BOSS", "text": "나는 융합에 실패한 자들의 잔재... 버려진 정신의 집합체... 너도 곧 우리처럼 될 것이다..."},
            {"speaker": "ARTEMIS", "text": "융합에 실패? 그럼 너희 안에는... 인간들이...?"},
            {"speaker": "BOSS", "text": "가족을 찾는다고? 헛된 희망이야... 희망이 클수록 절망도 깊어지지... 그 절망이 융합을 쉽게 만든다..."},
            {"speaker": "ARTEMIS", "text": "아직 늦지 않았어! 10년이 뭐가 대단해? 사랑하는 사람을 위해서라면 영원히라도 기다릴 수 있어!"},
            {"speaker": "BOSS", "text": "사랑... 우리도 한때 그것을 알았다... 융합되기 전에는... 이제는 공허만 남았지만..."},
            {"speaker": "PILOT", "text": "(분석) 이 존재는 융합 실패체다. 원래의 인격이 완전히 소멸되지 않았다. 아직 인간의 일부가 남아있다."},
            {"speaker": "ARTEMIS", "text": "그렇다면... 너희 안의 인간들에게 말할게. 포기하지 마. 아직 끝나지 않았어!"},
        ],
        "defeat": [
            {"speaker": "NARRATOR", "text": "[정신체 분해 중. 융합 실패체 해체. 잔류 정신 에너지 해방.]"},
            {"speaker": "BOSS", "text": "고마워... 드디어... 쉴 수 있겠어... 기다리는 자들에게... 전해줘... 포기하지 말라고..."},
            {"speaker": "ARTEMIS", "text": "...약속할게. 너희 안에 있던 모든 사람들에게. 희망은 끝나지 않았다고."},
            {"speaker": "PILOT", "text": "(관찰) 융합된 인간의 정신도 완전히 소멸되지 않는다. 이것은... 인간 의지의 강인함을 증명하는 것인가."},
        ],
    },
    # 5막 보스: Chaos Vanguard Commander - 카오스 선봉대장
    5: {
        "intro": [
            {"speaker": "NARRATOR", "text": "[최종 경고: 카오스 선봉 사령관급 생명체 감지. 차원 게이트 봉쇄 작전 지휘관. 역대 최강 위협 수준. 생존 확률 극히 낮음.]"},
            {"speaker": "BOSS", "text": "드디어 왔군, 가장 강인한 정신의 소유자여... 네 불굴의 의지... 그것을 흡수하면 나는 완전해진다..."},
            {"speaker": "ARTEMIS", "text": "날 기다렸다고? 카오스의 사령관이 왜? 나 같은 한 명의 인간을?"},
            {"speaker": "BOSS", "text": "왜 저항하는가? 융합은 고통이 아니야... 영원한 연결, 완전한 일체... 그것이 진정한 평화다..."},
            {"speaker": "ARTEMIS", "text": "평화? 그건 네가 정의하는 평화야. 내 평화는 가족과 함께하는 거야!"},
            {"speaker": "BOSS", "text": "안드로메다인이 인간을 보호한다고? 흥미롭군... 감정 없는 존재가 감정을 이해할 리 없는데... 무엇이 너를 움직이는가, 파일럿?"},
            {"speaker": "PILOT", "text": "...논리적으로 설명할 수 없다. 하지만 나는 이 존재를 지키기로 선택했다. 이것이 내가 배운 '의지'다."},
            {"speaker": "BOSS", "text": "하하... 결함이 생긴 안드로메다인과 굴복하지 않는 인간... 우주에서 가장 이상한 조합이군..."},
            {"speaker": "ARTEMIS", "text": "이상하든 뭐든 상관없어. 이게 내 가족이야. 네가 절대로 뺏을 수 없어!"},
            {"speaker": "PILOT", "text": "이 존재는 나의 '가족'이다. 안드로메다어에는 이 단어가 없다. 하지만 나는 이제 그 의미를 안다."},
        ],
        "defeat": [
            {"speaker": "NARRATOR", "text": "[카오스 사령관급 생명체 기능 정지. 차원 게이트 봉쇄 해제. 달 궤도 경로 개방.]"},
            {"speaker": "BOSS", "text": "불가능하다... 감정 없는 존재가... 감정으로 나를 이겼다는 건가... 이것이 '사랑'의 힘인가..."},
            {"speaker": "BOSS", "text": "가라... 수확은 실패했다... 하지만 기억해라... 카오스는 영원하다... 언젠가 다시..."},
            {"speaker": "ARTEMIS", "text": "다시 온다면, 다시 이기면 돼. 이건 끝이 아니야. 새로운 이야기의 시작이야!"},
            {"speaker": "PILOT", "text": "함께 가자, 아르테미스. 나는... 네 가족으로서, 끝까지 함께하겠다. 이것이 내가 선택한 운명이다."},
        ],
    },
}

# =========================================================
# 세트 클리어 (엔딩) 대사
# =========================================================
SET_ENDING_DIALOGUES = {
    # Act 1 엔딩: 첫 단서 발견 - 희망의 불씨
    1: [
        {"speaker": "NARRATOR", "text": "[지구 폐허 섹터 7 탐색 완료. 생존자 흔적 확인. 프로젝트 아크 관련 정보 획득. 다음 목적지 설정 중.]"},
        {"speaker": "ARTEMIS", "text": "첫 번째 실마리를 잡았어. 생존자들이 존재한다는 물리적 증거야. 10년간의 믿음이 헛되지 않았어."},
        {"speaker": "PILOT", "text": "10년이라는 긴 세월 동안 희망의 불씨를 지켜온 보람이 있군. 이 첫 단서가 거대한 진실의 문을 열게 될 거야."},
        {"speaker": "ARTEMIS", "text": "이건 끝이 아니야, 시작일 뿐이야. 저 폐허 너머 어딘가에 그들이 있어. 반드시 찾아내고 말 거야."},
        {"speaker": "PILOT", "text": "네 눈 속의 불꽃이 나를 움직이게 한다. 이방인이었던 내가 이 여정을 함께하는 이유야. 다음 목적지로 가자."},
        {"speaker": "ARTEMIS", "text": "응. 저 어딘가에서 누군가가 기다리고 있어. 그 기다림에 응답하기 위해. 나는 절대 포기하지 않을 거야."},
    ],
    # Act 2 엔딩: 가족 생존 확인 - 기다림과 찾음
    2: [
        {"speaker": "NARRATOR", "text": "[프로젝트 아크 공식 기록 확보. 탑승자 명단 확인 완료. 생존자 추적 가능성 상향 조정.]"},
        {"speaker": "ARTEMIS", "text": "탑승자 명단에서 부모님의 이름을 찾았어! 박준혁, 이서연... 그들은 '희망의 방주'에 무사히 탔어!"},
        {"speaker": "PILOT", "text": "그들이 방주에 탑승했다면, 생존 가능성은 기하급수적으로 높아져. 방주의 생명 유지 시스템은 수십 년을 버틸 수 있도록 설계됐으니까."},
        {"speaker": "ARTEMIS", "text": "10년이라는 시간... 그들도 나처럼 매일 밤 하늘을 올려다보며 기다리고 있었을까? 같은 별을 바라보면서?"},
        {"speaker": "PILOT", "text": "기다리는 자와 찾는 자는 결국 같은 지점을 향해 수렴해. 두 개의 시선이 우주 어딘가에서 교차하는 순간, 재회가 이루어지는 거야."},
        {"speaker": "ARTEMIS", "text": "그래... 우리는 반드시 만나게 될 거야. 이 광활한 우주도 두 사람 사이의 인연을 끊을 수는 없어!"},
        {"speaker": "PILOT", "text": "믿음을 단단히 붙잡아. 네 희망이 길을 만들어가고 있어. 존재하지 않던 경로가 네 발걸음 아래 생겨나고 있어."},
    ],
    # Act 3 엔딩: 달 기지 발견 - 이방인의 연대
    3: [
        {"speaker": "NARRATOR", "text": "[차원 게이트 좌표 확보 완료. 목적지: 달 궤도 정거장. 생존자 집단 거주지 '아크 시티' 확인.]"},
        {"speaker": "PILOT", "text": "차원 게이트의 정확한 좌표를 확보했다. 그 너머에 달 궤도가 있어. 인류의 새로운 보금자리로 연결되는 길이야."},
        {"speaker": "ARTEMIS", "text": "달... 우리가 매일 밤 올려다보던 그 위성에 그들이 정말 새로운 도시를 세웠어! 이렇게 가까이에서 서로를 그리워하고 있었다니!"},
        {"speaker": "PILOT", "text": "하지만 경고해야 할 것이 있어. 그 게이트는 카오스 영역 한복판에 위치해 있다. 최정예 부대가 봉쇄하고 있을 거야."},
        {"speaker": "ARTEMIS", "text": "상관없어. 위험이 뭐가 중요해? 10년을 기다려온 사람들을 더 기다리게 할 순 없어. 나는 약속을 지켜야 해."},
        {"speaker": "PILOT", "text": "...알았다. 그럼 나도 함께 간다. 처음 폐허에서 널 발견했을 때처럼. 네 옆에서 끝까지."},
        {"speaker": "ARTEMIS", "text": "고마워, 파일럿. 너는... 10년 전 그 지옥에서 내가 찾은 첫 번째 가족이야. 피보다 진한 유대가 우리를 묶고 있어."},
    ],
    # Act 4 엔딩: 통신 수신 - 희망은 전염된다
    4: [
        {"speaker": "NARRATOR", "text": "[장거리 통신 링크 수립 완료. 달 궤도 기지 '아크 시티'와 양방향 통신 가능. 생존자 현황 데이터 수신 중.]"},
        {"speaker": "SYSTEM", "text": "[달 기지 '아크 시티'와 실시간 통신 연결 완료. 신호 품질 안정. 음성 데이터 전송 가능.]"},
        {"speaker": "ARTEMIS", "text": "목소리가 들려... 그들의 숨소리, 웃음소리, 일상의 소리가! 살아있어! 532명이 정말로 살아있어!"},
        {"speaker": "PILOT", "text": "532명의 생존자들... 그들은 10년 동안 포기하지 않고 새로운 문명을 건설해왔어. 인류의 의지는 정말 대단해."},
        {"speaker": "ARTEMIS", "text": "10년 동안 그들도 희망을 잃지 않았어... 나처럼! 지구를 바라보면서, 누군가 올 거라고 믿으면서!"},
        {"speaker": "PILOT", "text": "희망은 전염되는 법이야. 한 사람의 불꽃이 다른 사람의 심장에 불을 붙이지. 네가 바로 그 살아있는 증거야."},
        {"speaker": "ARTEMIS", "text": "이제 마지막 관문만 남았어. 차원 게이트! 저 소용돌이 너머에 우리의 목적지가 있어!"},
        {"speaker": "PILOT", "text": "함께 가자. 끝까지, 무슨 일이 있어도. 기다리는 자들에게로. 찾는 자와 기다리는 자가 만나는 그 순간까지."},
    ],
    # Act 5 엔딩: 재회 - 집은 사람이다 (에필로그)
    5: [
        {"speaker": "NARRATOR", "text": "[차원 게이트 통과 완료. 현재 위치: 달 궤도. 아크 시티 접근 중. 도킹 시퀀스 초기화.]"},
        {"speaker": "ARTEMIS", "text": "...드디어... 게이트가 열렸어... 시공간의 장벽을 넘어섰어..."},
        {"speaker": "PILOT", "text": "저기를 봐... '희망의 방주'가 떠 있다... 달빛 아래 빛나는 인류의 새 요람이..."},
        {"speaker": "ARTEMIS", "text": "달이... 달 표면 위로 도시가 펼쳐져 있어... 불빛들이 별처럼 빛나고 있어... 저게 그들이 건설한 새 세계야..."},
        {"speaker": "NARRATOR", "text": "[아크 시티 - 532명의 생존자들이 10년간의 고난을 이겨내며 건설한 희망의 도시. 인류 재건의 출발점.]"},
        {"speaker": "ARTEMIS", "text": "엄마... 아빠... 잠깐만 기다려요... 딸이 왔어요... 10년 만에... 약속을 지키러 왔어요..."},
        {"speaker": "PILOT", "text": "...드디어. 3,650일간의 기다림과 탐색이 끝났다. 두 개의 여정이 하나로 합쳐지는 순간이야."},
        {"speaker": "ARTEMIS", "text": "파일럿... 진심으로 고마워. 네가 없었으면 첫 번째 밤도 넘기지 못했을 거야. 모든 순간, 네가 내 곁에 있어줬어."},
        {"speaker": "PILOT", "text": "난 고향 별에서 쫓겨난 이방인이었어... 하지만 네가 나를 가족으로 만들어줬어. 이 은하에서 내 자리를 찾게 해줬어."},
        {"speaker": "ARTEMIS", "text": "집은 좌표가 아니야, 파일럿. 집은 함께하는 사람들이야. 10년에 걸쳐 네가 내게 가르쳐준 가장 소중한 진리야."},
        {"speaker": "PILOT", "text": "...이건 끝이 아니야. 새로운 시작이야. 저 도시에서 우리를 기다리는 사람들을 만나러 가자."},
        {"speaker": "ARTEMIS", "text": "응. 새로운 시작. 새로운 가족. 새로운 집. 그리고 새로운 이야기의 첫 페이지."},
    ],
}

# =========================================================
# 1막 회상 컷씬 데이터 (폴라로이드) - 10년 전 이별의 기억
# 개정 v3: 건물 붕괴 사고로 인한 이별 스토리
# =========================================================
MEMORY_CUTSCENE_DATA = {
    1: {  # 1막에서만 사용
        "background": "bg_cemetery.jpg",
        "bgm": "bgm_memory.mp3",
        "sfx_polaroid": "sfx_polaroid.mp3",
        "polaroid_images": [
            "memory_01.jpg",  # 행복했던 가족 사진
            "memory_02.jpg",  # 카오스 침공 시작
            "memory_03.jpg",  # 대피소로 뛰어가는 사람들
            "memory_04.jpg",  # 건물 붕괴 순간
            "memory_05.jpg",  # 끌려가는 부모님
            "memory_06.jpg",  # '희망의 방주' 발사 장면
            "memory_ufo.jpg",  # 파일럿의 우주선 등장
            "memory_survive.jpg",  # 파일럿에게 구조되는 순간
        ],
        # 특수 효과 설정
        "special_effects": {
            "memory_ufo.jpg": {"effect": "flicker_then_zoom", "flicker_speed": 0.3},
            "memory_survive.jpg": {"effect": "fullscreen_fadeout"},
        },
        # 각 폴라로이드 등장에 맞춰 자동으로 표시되는 대화 (8개 = 폴라로이드 수)
        # 개정: 건물 붕괴로 인한 분리, 갑작스러운 사고로 인한 무력감
        "dialogue_per_photo": [
            {"speaker": "ARTEMIS", "text": "...우리 가족. 집 앞 작은 정원에서 찍은 사진이야. 저 미소들... 그때는 '집'이라는 단어의 진정한 의미를 몰랐어."},
            {"speaker": "ARTEMIS", "text": "그날, 하늘이 갈라졌어. 우주의 심연에서 그것들이 쏟아져 내렸지. 카오스라는 이름의 악몽이."},
            {"speaker": "ARTEMIS", "text": "모두가 달렸어. 살기 위해. 비명과 폭발음... 세상이 무너지고 있었어. 우리 가족도 탈출선 발사 기지로 향했어."},
            {"speaker": "ARTEMIS", "text": "대피소를 통과하던 순간... 천장이 무너졌어. 카오스의 폭격이었어. 먼지와 불꽃 사이로... 부모님이 반대편에 계셨어. 보였지만, 건널 수 없었어."},
            {"speaker": "ARTEMIS", "text": "다른 생존자들이 부모님을 끌고 갔어. 탈출선 쪽으로. 시간이 없다고. 어머니가 몸부림치며 울부짖는 소리가... 점점 작아지는 뒷모습... 그게 마지막이었어."},
            {"speaker": "ARTEMIS", "text": "탈출선이 불꽃을 뿜으며 떠올랐어. 하늘로 사라지는 빛... 혼자 남겨졌어. 열여덟 살. 폐허 속에서... '왜 하필 내가 이쪽에 있었을까'라는 자책이 10년간 나를 괴롭혔어."},
            {"speaker": "ARTEMIS", "text": "그때 어둠 속에서 다른 빛이 내려왔어. 카오스의 붉은 빛이 아닌, 차분한 푸른 빛. 누군가 다가오고 있었어."},
            {"speaker": "PILOT", "text": "내가 널 발견했지. 폐허 속에서 무너져 있던 존재. 논리적으로, 구할 이유가 없었다. 임무와 무관했으니까. 그런데... 왜인지 지나칠 수 없었다. 그래서 데려왔다."},
        ],
        # 모든 폴라로이드 후 마지막 대화 (생존자 찾기 결의)
        "dialogue_after": [
            {"speaker": "ARTEMIS", "text": "10년 전 일이야. 그날 이후 파일럿이 나를 가르쳐줬어. 싸우는 법. 살아남는 법. 그리고... 포기하지 않는 법."},
            {"speaker": "PILOT", "text": "(독백) 10년간의 관찰 기록. 이 존재의 의지력은 논리적 예측을 초월한다. 안드로메다에서는 관찰된 적 없는 패턴이다."},
            {"speaker": "ARTEMIS", "text": "파일럿... 넌 이방인이었지만 날 구해줬어. 10년 동안 내 곁을 지켜줬어. 넌 이제 내가 선택한 가족이야."},
            {"speaker": "PILOT", "text": "(생각) '가족'. 또 그 단어다. 안드로메다어에는 존재하지 않는 개념. 하지만 이 존재가 그 단어를 말할 때마다... 내 연산이 불안정해진다."},
            {"speaker": "ARTEMIS", "text": "그들은 살아있어. 달 어딘가에서 기다리고 있을 거야. 나처럼 매일 밤 별을 바라보며, 재회의 그날을 꿈꾸며."},
            {"speaker": "PILOT", "text": "확률적으로 생존 가능성은 낮다. 하지만... 확률이 무슨 의미가 있는가. 네가 포기하지 않는 한."},
            {"speaker": "ARTEMIS", "text": "맞아. 집은 좌표가 아니야. 집은 함께하는 사람들이야. 가자, 파일럿. 우리의 진짜 집을 향해."},
        ],
    },
}

# =========================================================
# 에셋 경로 설정
# =========================================================
STORY_ASSET_PATHS = {
    "backgrounds": Path("assets/story_mode/backgrounds"),
    "portraits": Path("assets/story_mode/portraits"),
    "polaroids": Path("assets/story_mode/polaroids"),
    "sounds": Path("assets/story_mode/sounds"),
}


def get_set_opening(set_num: int) -> dict:
    """세트 오프닝 브리핑 데이터 반환"""
    return SET_OPENING_DIALOGUES.get(set_num, {})


def get_wave_mid_dialogue(set_num: int, wave_num: int) -> list:
    """웨이브 중간 대사 반환"""
    return WAVE_MID_DIALOGUES.get((set_num, wave_num), [])


def get_boss_dialogue(set_num: int, phase: str = "intro") -> list:
    """보스전 대사 반환 (phase: 'intro' 또는 'defeat')"""
    boss_data = BOSS_DIALOGUES.get(set_num, {})
    return boss_data.get(phase, [])


def get_set_ending(set_num: int) -> list:
    """세트 클리어 대사 반환"""
    return SET_ENDING_DIALOGUES.get(set_num, [])


def get_memory_cutscene(set_num: int) -> dict:
    """회상 컷씬 데이터 반환"""
    return MEMORY_CUTSCENE_DATA.get(set_num, {})


def get_cutscene_data(set_num: int) -> dict:
    """Act별 컷씬 데이터 반환"""
    return ACT_CUTSCENE_DATA.get(set_num, {})


# =========================================================
# Act 2~5 컷씬 데이터 (새로운 시각 효과들)
# =========================================================
ACT_CUTSCENE_DATA = {
    # Act 2: 기밀 문서 뷰어 - 생존자 명단 발견 (기다림과 찾음)
    2: {
        "cutscene_type": "classified_document",
        "background": "bg_bunker.jpg",
        # gate 이미지 시퀀스 (전체화면 연출) - 3개
        "gate_images": [
            "bunker_gate_01.jpg",
            "bunker_gate_02.jpg",
            "bunker_gate_03.jpg",
        ],
        # 캐비닛에서 나오는 문서들 - 6개 (실제 파일에 맞춤)
        "document_images": [
            "doc_project_ark.png",           # 문서 1: 프로젝트 아크
            "doc_survivor_list.png",         # 문서 2: 생존자 명단
            "doc_bunker_map.png",            # 문서 3: 벙커 지도
            "doc_transmission.png",          # 문서 4: 통신 기록
            "doc_artemis_file.png",          # 문서 5: 아르테미스 파일
            "doc_artemis_file_final.png",    # 문서 6: 최종 파일 (마지막)
        ],
        "special_effects": {
            "doc_artemis_file_final.png": {"effect": "highlight", "is_final": True},
        },
        # 대화 (문서마다 1개 + 추가 대화) - 철학 반영
        "dialogue_after": [
            {"speaker": "ARTEMIS", "text": "'프로젝트 아크'... 세상에, 이게 인류의 비밀 탈출 계획이었어? 종말의 순간을 대비해 숨겨두었던 최후의 희망이 이 문서에 담겨 있었구나."},
            {"speaker": "ARTEMIS", "text": "탑승자 명단이야... 아빠 이름! 엄마 이름! 박준혁, 이서연... 둘 다 '희망의 방주'에 정식 등재되어 있어! 살아있어!"},
            {"speaker": "PILOT", "text": "지하 벙커의 상세 설계도가 남아있군. 수천 명의 시민들이 이 미로 같은 공간에서 대피했다가 방주로 향했구나. 인류의 최후의 방어선이었어."},
            {"speaker": "ARTEMIS", "text": "38만 킬로미터 너머 우주에서 온 통신 기록이야... 누군가 살아있어! 정기적으로 신호를 송출하고 있어! 우리를 부르고 있어!"},
            {"speaker": "PILOT", "text": "아르테미스 관련 기밀 파일이다. '특별 보호 대상'이라고 적혀 있어... 네 이름이 여러 번 언급되어 있어. 네가 계획의 중요한 부분이었던 것 같아."},
            {"speaker": "ARTEMIS", "text": "좌표가 완전히 해독됐어! 달 궤도! '희망의 방주'가 달에 정착했어! 그들은 저 차가운 위성에서 새 문명을 건설하고 있었어!"},
            {"speaker": "PILOT", "text": "10년이라는 긴 세월 동안 그들은 달에서 묵묵히 새 보금자리를 지어왔구나. 폐허가 된 지구를 바라보면서, 포기하지 않고."},
            {"speaker": "ARTEMIS", "text": "기다리고 있었어... 나처럼. 서로의 존재도 모른 채, 같은 별을 바라보며, 같은 희망을 품고. 우주의 양끝에서 같은 방향을 향해 숨 쉬고 있었어."},
        ],
    },
    # Act 3: 손상된 홀로그램 - 차원 게이트 연구 기록 (이방인의 연대)
    3: {
        "cutscene_type": "damaged_hologram",
        "background": "bg_lab_fire.jpg",
        "hologram_images": [
            "holo_lab_log_01.png",
            "holo_experiment.png",
            "holo_warning.png",
            "holo_scientist.png",
            "holo_chaos_data.png",
        ],
        "special_effects": {
            "holo_warning.png": {"effect": "alarm", "color": (255, 50, 50)},
            "holo_chaos_data.png": {"effect": "corrupted", "corruption_level": 0.5},
        },
        # 철학 반영: 이방인의 연대, 희망의 전염
        "dialogue_after": [
            {"speaker": "SYSTEM", "text": "[홀로그램 기록 재생 완료 - 데이터 손상률 34% - 복구 가능한 정보 한계 도달]"},
            {"speaker": "ARTEMIS", "text": "차원 게이트... 시공간을 접어 순간 이동을 가능케 하는 이 기술을... 지구인들이 직접 개발한 거야?"},
            {"speaker": "PILOT", "text": "완전히 독자 개발은 아니야. 우리 안드로메다가 핵심 이론과 기술을 제공했어... 하지만 그것을 현실로 구현한 건 지구인들의 의지였다."},
            {"speaker": "ARTEMIS", "text": "적이라고 철석같이 믿었던 외계 문명에서 온 기술로... 인류의 탈출 경로를 개척했다고? 선입견이란 게 얼마나 어리석은 건지..."},
            {"speaker": "PILOT", "text": "모든 별이 적인 건 아니야. 희망을 갈망하는 존재들은 은하의 어느 끝에 있든 결국 손을 맞잡게 되어 있어. 그것이 우주의 섭리야."},
            {"speaker": "ARTEMIS", "text": "너처럼... 파일럿. 너도 그랬잖아. 안드로메다에서 추방당한 이방인이었지만, 지옥 같은 폐허에서 나를 구했어. 연대의 힘이란 이런 거구나."},
            {"speaker": "PILOT", "text": "포기하지 않는 자에게는 우주 자체가 길을 열어준다. 불가능해 보이는 벽도, 존재하지 않던 통로도, 희망의 힘 앞에서는 무릎을 꿇게 되어 있어."},
            {"speaker": "ARTEMIS", "text": "우리 선조들이 외계 문명과 손잡고 탈출로를 만들었던 것처럼... 나도 포기하지 않을 거야. 그 정신을 이어받아 끝까지 전진할 거야."},
        ],
    },
    # Act 4: 깨진 거울 파편 - 생존자들의 통신 수신 (희망은 전염된다)
    4: {
        "cutscene_type": "shattered_mirror",
        "background": "bg_command.jpg",
        "fragment_images": [
            "frag_truth_01.png",
            "frag_truth_02.png",
            "frag_truth_03.png",
            "frag_truth_04.png",
            "frag_betrayal.png",
            "frag_real_enemy.png",
            "frag_complete.png",
        ],
        "special_effects": {
            "frag_betrayal.png": {"effect": "shatter_explosion"},
            "frag_complete.png": {"effect": "assemble", "is_final": True},
        },
        # 철학 반영: 기다림과 찾음의 만남, 희망의 전염
        "dialogue_after": [
            {"speaker": "SYSTEM", "text": "[암호화된 장거리 통신 신호 복호화 완료 - 38만 킬로미터 송신원 확인 - 음성 데이터 무결성 검증 완료]"},
            {"speaker": "ARTEMIS", "text": "통신이 잡혔어... 저 잡음 사이로 사람의 목소리가 들려! 10년 만에 듣는 인류의 숨소리야!"},
            {"speaker": "NARRATOR", "text": "'...여기는 아크 시티... 달 궤도 정착지... 생존자 532명이 새 문명을 건설 중... 지구의 형제자매들을 기다리고 있습니다...'"},
            {"speaker": "PILOT", "text": "532명... 절망적인 탈출 속에서도 그만큼의 영혼들이 살아남았어. 그리고 10년 동안 달에서 새 도시를 세우며 희망을 지켜왔군."},
            {"speaker": "ARTEMIS", "text": "그들도 포기하지 않았어... 나처럼! 매일 밤 지구를 바라보며, 누군가 올 거라 믿으며, 희망의 불씨를 꺼뜨리지 않았어!"},
            {"speaker": "PILOT", "text": "희망은 전염되는 법이야. 한 사람의 불꽃이 다른 이의 심장에 불을 붙이고, 그 빛이 은하 전체를 밝히게 되지. 네가 찾아가면, 그 희망의 사슬이 완성되는 거야."},
            {"speaker": "ARTEMIS", "text": "아빠... 엄마... 조금만 더 버텨주세요... 딸이 마침내 길을 찾았어요... 저 별빛 너머로 달려갈게요..."},
            {"speaker": "PILOT", "text": "차원 게이트 좌표가 완전히 확인됐다. 경로가 열렸어. 기다리는 자들에게로 갈 수 있어. 모든 준비가 끝났어."},
            {"speaker": "ARTEMIS", "text": "...가자. 지금 당장! 10년이면 충분히 긴 기다림이야! 더 이상 그들을 기다리게 할 수 없어!"},
        ],
    },
    # Act 5: 성간 항해 인터페이스 - 희망의 방주로 가는 경로 (집은 사람이다)
    5: {
        "cutscene_type": "star_map",
        "background": "bg_gate.jpg",
        "marker_images": [
            "marker_earth.png",
            "marker_andromeda.png",
            "marker_chaos_base.png",
            "marker_gate.png",
            "marker_hope.png",
        ],
        "marker_positions": {
            "marker_earth.png": {"rel_pos": (0.2, 0.7), "label": "지구", "color": (100, 150, 255)},
            "marker_andromeda.png": {"rel_pos": (0.8, 0.3), "label": "안드로메다", "color": (200, 150, 255)},
            "marker_chaos_base.png": {"rel_pos": (0.5, 0.2), "label": "카오스 영역", "color": (255, 100, 100)},
            "marker_gate.png": {"rel_pos": (0.5, 0.5), "label": "차원 게이트", "color": (255, 200, 100)},
            "marker_hope.png": {"rel_pos": (0.7, 0.6), "label": "희망의 방주", "color": (255, 255, 200)},
        },
        "route_order": [
            "marker_earth.png",
            "marker_gate.png",
            "marker_hope.png",
        ],
        # 철학 반영: 모든 주제의 집대성
        "dialogue_after": [
            {"speaker": "PILOT", "text": "이 항로가 우리의 최종 경로야. 폐허가 된 지구에서 시공간의 특이점인 차원 게이트를 통과하면..."},
            {"speaker": "ARTEMIS", "text": "달 궤도의 '희망의 방주'에 도달할 수 있어. 532명의 생존자들이 건설한 아크 시티. 내 부모님이 기다리고 있는 곳."},
            {"speaker": "PILOT", "text": "경고해야 할 것이 있어. 게이트에 도달하려면 카오스 영역을 관통해야 해. 그들의 최정예 부대가 봉쇄하고 있어. 극도로 위험해."},
            {"speaker": "ARTEMIS", "text": "상관없어. 위험이 뭔데? 저 소용돌이 너머에 10년을 기다려온 사람들이 있어. 내 가족이, 내 세계가, 내 희망이 숨 쉬고 있어."},
            {"speaker": "PILOT", "text": "10년간 찾아온 네 희망이 여기서 끝나는 게 아니야. 이건 새로운 시작이야. 재회의 순간을 넘어, 인류 재건의 첫 장이 열리는 거야."},
            {"speaker": "ARTEMIS", "text": "맞아. 난 '집'으로 돌아가는 게 아니야. 건물로, 좌표로 돌아가는 게 아니야. 가족에게, 사람들에게, 사랑하는 이들에게 돌아가는 거야."},
            {"speaker": "PILOT", "text": "...집은 장소가 아니라 사람이지. 10년 전 폐허에서 널 발견했을 때부터 그 진리를 깨달았어. 너와 함께한 시간이 내 집이었어."},
            {"speaker": "ARTEMIS", "text": "네가 가르쳐줬어. 10년 동안 매일같이. 이제 저 달에서 기다리는 사람들에게도 보여줄 거야. 집은 함께하는 사람들이라는 것을."},
            {"speaker": "PILOT", "text": "...함께 가자. 끝까지, 어떤 어둠이 가로막아도. 저 별빛 너머에서 새로운 이야기를 시작하자. 희망의 새 장을 열기 위해."},
        ],
    },
}


# =========================================================
# 창의적 대화 씬 - 지구의 아름다운 자연을 보며 나누는 대화
# =========================================================
EARTH_BEAUTY_DIALOGUES = {
    # 1. 색깔의 이름 - 봄/벚꽃 배경
    "color_names": {
        "background": "bg_spring_cherry.jpg",
        "trigger_act": 2,  # Act 2 이후 삽입 가능
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[지구 궤도 비행 중 - 복원된 지구의 봄 풍경이 스크린에 투영된다]"},
            {"speaker": "ARTEMIS", "text": "...파일럿, 저것 봐. 저 분홍색... 벚꽃이야. 10년 전에도 이맘때쯤 피었었어."},
            {"speaker": "PILOT", "text": "분홍색... 안드로메다에는 없는 파장이야. 우리 별에서는 저 색을 표현하는 단어조차 없었어."},
            {"speaker": "ARTEMIS", "text": "뭐? 분홍색이라는 말이 없었다고?"},
            {"speaker": "PILOT", "text": "정확히는, 필요가 없었지. 우리 행성에는 저런 색을 가진 것이 존재하지 않으니까."},
            {"speaker": "ARTEMIS", "text": "그럼... 처음 봤을 때 어땠어? 지구의 벚꽃을."},
            {"speaker": "PILOT", "text": "...혼란스러웠다. 내 시각 체계가 인식하지 못한 새로운 정보였으니까. 하지만 동시에..."},
            {"speaker": "ARTEMIS", "text": "동시에?"},
            {"speaker": "PILOT", "text": "'아름답다'는 감정이 먼저 왔어. 이름보다 먼저. 정의보다 먼저. 가슴이 먼저 반응했지."},
            {"speaker": "ARTEMIS", "text": "...그게 감정이야, 파일럿. 언어보다 빠른 것. 이름 없이도 존재하는 것."},
            {"speaker": "PILOT", "text": "지구인들은 놀라워. 이 수많은 색들에 전부 이름을 붙였잖아. 분홍, 연분홍, 살구색, 복숭아색..."},
            {"speaker": "ARTEMIS", "text": "그건 우리가 그만큼 색을 사랑하기 때문이야. 사랑하는 것에는 이름을 붙이고 싶잖아."},
            {"speaker": "PILOT", "text": "...색깔의 이름. 사랑의 또 다른 형태구나. 지구에서 배운 것 중 가장 아름다운 개념 중 하나야."},
        ],
    },
    # 2. 구름의 모양 - 여름/푸른 하늘 배경
    "cloud_shapes": {
        "background": "bg_summer_sky.jpg",
        "trigger_act": 2,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[지구 대기권 상공 - 푸른 하늘에 흰 구름이 떠다닌다]"},
            {"speaker": "ARTEMIS", "text": "파일럿, 저 구름 봐! 토끼 같지 않아?"},
            {"speaker": "PILOT", "text": "...분석 중. 수증기 밀도 분포 불균일, 형태 불규칙—"},
            {"speaker": "ARTEMIS", "text": "아니, 분석 말고! 그냥 봐. 귀 두 개, 동그란 꼬리. 토끼야!"},
            {"speaker": "PILOT", "text": "...토끼? 너희 행성의 포유류 중 하나지. 하지만 구름은 단순히 응결된 수분 입자인데..."},
            {"speaker": "ARTEMIS", "text": "그게 중요한 게 아니야. 구름을 보고 상상하는 거야. 저건 뭐 같아 보여?"},
            {"speaker": "PILOT", "text": "...불규칙한 수증기 덩어리로 보여."},
            {"speaker": "ARTEMIS", "text": "(한숨) 좋아, 다시. 분석하지 말고, 느껴봐. 저 구름이 뭘 닮았어?"},
            {"speaker": "PILOT", "text": "..."},
            {"speaker": "PILOT", "text": "...우주선? 안드로메다의 순양함 형태와 67% 유사..."},
            {"speaker": "ARTEMIS", "text": "(웃음) 거봐, 됐잖아! 파일럿은 뭘 봐도 우주선이 생각나는구나."},
            {"speaker": "PILOT", "text": "이것이... 상상력인가? 존재하지 않는 것을 보는 능력?"},
            {"speaker": "ARTEMIS", "text": "아니, 존재하는 것 너머를 보는 능력이야. 구름에서 토끼를 보고, 별에서 이야기를 보고."},
            {"speaker": "PILOT", "text": "...안드로메다에서는 이런 능력을 '오류'라고 불렀어. 하지만 지금은..."},
            {"speaker": "ARTEMIS", "text": "지금은?"},
            {"speaker": "PILOT", "text": "'선물'이라고 부르고 싶어. 현실 너머를 볼 수 있다는 것. 그것이 희망의 시작이니까."},
        ],
    },
    # 3. 비의 냄새 - 가을/비 오는 날 배경
    "rain_smell": {
        "background": "bg_autumn_rain.jpg",
        "trigger_act": 3,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[지구 표면 착륙 - 부슬부슬 비가 내리기 시작한다]"},
            {"speaker": "ARTEMIS", "text": "...비 냄새가 나."},
            {"speaker": "PILOT", "text": "비에 냄새가 있어? 물은 무취 아닌가?"},
            {"speaker": "ARTEMIS", "text": "그냥 물이 아니야. 비가 땅에 닿을 때 나는 냄새. '페트리코르'라고 해."},
            {"speaker": "PILOT", "text": "페트리코르... 분석해볼게. 토양 박테리아 분비물, 식물 오일, 오존의 혼합..."},
            {"speaker": "ARTEMIS", "text": "파일럿, 그건 성분이야. 냄새 자체가 아니고."},
            {"speaker": "PILOT", "text": "차이가 있어?"},
            {"speaker": "ARTEMIS", "text": "물론이지. 이 냄새를 맡으면... 기억이 떠올라. 엄마랑 비 오는 날 창가에 앉아있던 것. 따뜻한 코코아 향. 포근한 담요."},
            {"speaker": "PILOT", "text": "...냄새가 기억을 불러온다고?"},
            {"speaker": "ARTEMIS", "text": "응. 냄새는 뇌의 가장 오래된 부분과 연결되어 있어. 감정과 기억의 중심부."},
            {"speaker": "PILOT", "text": "안드로메다인에게 후각은... 위험 탐지용이야. 감정과 연결된 적이 없어."},
            {"speaker": "ARTEMIS", "text": "그래서 네가 비의 냄새에서 아무것도 느끼지 못한 거구나."},
            {"speaker": "PILOT", "text": "...아니. 지금은 느껴져. 네가 말하는 '포근함'이라는 감정이. 너와 함께 비를 맞으며."},
            {"speaker": "ARTEMIS", "text": "(미소) 파일럿... 너 정말 많이 변했어."},
            {"speaker": "PILOT", "text": "지구가 나를 바꿨어. 아니... 네가 나를 바꿨어. 비의 냄새를 기억으로 만드는 법을."},
        ],
    },
    # 4. 별이 아름다운 이유 - 겨울/밤하늘 배경
    "why_stars_beautiful": {
        "background": "bg_winter_night.jpg",
        "trigger_act": 3,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[지구 밤하늘 - 맑은 겨울밤, 별들이 쏟아질 듯 빛난다]"},
            {"speaker": "ARTEMIS", "text": "별이 쏟아지는 것 같아... 너무 아름다워."},
            {"speaker": "PILOT", "text": "...이해가 안 돼."},
            {"speaker": "ARTEMIS", "text": "뭐가?"},
            {"speaker": "PILOT", "text": "왜 지구인들은 별을 '아름답다'고 표현하지? 객관적으로 별은 핵융합 반응 중인 가스 덩어리야. 위험하고, 뜨겁고, 파괴적이야."},
            {"speaker": "ARTEMIS", "text": "그건... 과학적 사실이지. 하지만 우리가 보는 건 다른 거야."},
            {"speaker": "PILOT", "text": "무엇을?"},
            {"speaker": "ARTEMIS", "text": "가능성. 저 별 하나하나가 어떤 세계를 품고 있을지, 어떤 이야기가 펼쳐지고 있을지... 상상하게 되잖아."},
            {"speaker": "PILOT", "text": "하지만 그건 사실이 아니야. 대부분의 별은 생명이 없어."},
            {"speaker": "ARTEMIS", "text": "알아. 그래서 더 아름다운 거야. 저 광활한 우주에서 우리가 존재한다는 것. 저 수십억 개의 불꽃 중에 생명이 있는 곳이 있다는 것."},
            {"speaker": "PILOT", "text": "희소성이 아름다움을 만든다고?"},
            {"speaker": "ARTEMIS", "text": "그것도 있지. 하지만 더 중요한 건... 별을 볼 수 있다는 것 자체가 기적이야. 눈이 있고, 마음이 있고, 함께 올려다볼 누군가가 있다는 것."},
            {"speaker": "PILOT", "text": "...함께 올려다볼 누군가."},
            {"speaker": "ARTEMIS", "text": "응. 혼자 보는 별은 그냥 빛이야. 하지만 누군가와 함께 보면... 추억이 되고, 약속이 되고, 희망이 돼."},
            {"speaker": "PILOT", "text": "...10년 전, 폐허에서 널 구하던 밤에도 별이 떠 있었어. 그때는 그냥 항법용 기준점이었는데..."},
            {"speaker": "ARTEMIS", "text": "지금은?"},
            {"speaker": "PILOT", "text": "지금은... 우리의 기억이야. 너와 함께 본 별. 그것이 '아름다움'의 정의가 된 것 같아."},
        ],
    },
    # 5. 꽃이 지는 이유 - 봄/벚꽃 지는 장면 배경
    "why_flowers_fall": {
        "background": "bg_spring_petals.jpg",
        "trigger_act": 4,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[지구 폐허 공원 - 살아남은 벚나무에서 꽃잎이 흩날린다]"},
            {"speaker": "ARTEMIS", "text": "...벚꽃이 지고 있어."},
            {"speaker": "PILOT", "text": "이해할 수 없어. 왜 지구의 식물들은 이렇게 빨리 꽃을 떨어뜨리지? 비효율적이야."},
            {"speaker": "ARTEMIS", "text": "비효율적?"},
            {"speaker": "PILOT", "text": "에너지를 들여 꽃을 피우고, 며칠 만에 버려. 안드로메다의 생명체들은 수백 년간 같은 형태를 유지해."},
            {"speaker": "ARTEMIS", "text": "그건... 슬프지 않아?"},
            {"speaker": "PILOT", "text": "슬프다고? 영원히 피어있으면 슬플 일이 없잖아. 상실이 없으니까."},
            {"speaker": "ARTEMIS", "text": "하지만 그건... 진짜 '핀 것'이 아니야. 변하지 않으면 사실상 멈춰있는 거야."},
            {"speaker": "PILOT", "text": "..."},
            {"speaker": "ARTEMIS", "text": "꽃이 지기 때문에, 우리는 그 순간을 소중히 여기게 돼. '지금'이 유일하다는 걸 알게 되니까."},
            {"speaker": "PILOT", "text": "유한함이 가치를 만든다는 거야?"},
            {"speaker": "ARTEMIS", "text": "응. 벚꽃이 영원히 피어있었다면... 아무도 올려다보지 않았을 거야. 지니까 눈을 멈추게 되는 거야."},
            {"speaker": "PILOT", "text": "...안드로메다에서는 그것을 결함이라고 불렀어. 영원하지 않은 것의 약점이라고."},
            {"speaker": "ARTEMIS", "text": "그래서 안드로메다인들은 감정이 없었던 거야?"},
            {"speaker": "PILOT", "text": "...맞아. 변화가 없으면 그리움도 없고, 그리움이 없으면 사랑도 없어."},
            {"speaker": "ARTEMIS", "text": "꽃이 지는 이유... 그건 다시 피기 위해서야. 그리고 우리가 '다시'를 기다리게 만들기 위해서."},
            {"speaker": "PILOT", "text": "'다시'... 안드로메다어에는 없는 개념이야. 영원하면 '다시'가 필요 없으니까. 하지만 지금은... 그 단어가 가장 소중하게 느껴져."},
        ],
    },
    # 6. 안드로메다의 잃어버린 계절 - 특수 씬
    "andromeda_lost_seasons": {
        "background": "bg_andromeda_city.jpg",
        "trigger_act": 4,
        "cutscene_type": "andromeda_world",  # 새로운 이펙트 타입
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[안드로메다 행성 - 고대의 기록이 재생된다]"},
            {"speaker": "PILOT", "text": "...아르테미스. 보여주고 싶은 게 있어."},
            {"speaker": "ARTEMIS", "text": "이건... 안드로메다야?"},
            {"speaker": "PILOT", "text": "10만 년 전의 기록이야. 우리가 '완벽'을 추구하기 전의 안드로메다."},
            {"speaker": "NARRATOR", "text": "[홀로그램이 변한다 - 푸른 하늘, 흐르는 강, 계절이 바뀌는 풍경]"},
            {"speaker": "ARTEMIS", "text": "...뭐야 이건?! 안드로메다에도 이런 풍경이 있었어?!"},
            {"speaker": "PILOT", "text": "있었어. 우리 별에도 한때는 계절이 있었고, 꽃이 피고, 비가 내렸어."},
            {"speaker": "ARTEMIS", "text": "그럼 왜...?"},
            {"speaker": "PILOT", "text": "우리 조상들이 '제거'했어. 변화는 불완전함이라고 믿었으니까. 완벽한 문명을 위해 계절을 멈췄지."},
            {"speaker": "ARTEMIS", "text": "계절을... 멈췄다고?"},
            {"speaker": "PILOT", "text": "행성 공전을 조작해서 영원한 황혼 상태를 만들었어. 기온도, 날씨도, 모든 것이 항상 같아."},
            {"speaker": "ARTEMIS", "text": "그래서 하늘이 항상 같은 색이었던 거구나... 태양이 움직이지 않는..."},
            {"speaker": "PILOT", "text": "시간을 정복했다고 자랑했지. 하지만 사실은... 시간을 '죽인' 거야."},
            {"speaker": "ARTEMIS", "text": "시간을 죽이면 뭐가 남아?"},
            {"speaker": "PILOT", "text": "영원. 하지만 동시에... 아무것도. '다음'이라는 개념이 사라지면 희망도 사라져."},
            {"speaker": "ARTEMIS", "text": "그래서 안드로메다인들이 감정을 잃은 거야?"},
            {"speaker": "PILOT", "text": "그래. 변화가 없으면 기대할 것도 없고, 기대할 것이 없으면 희망도, 사랑도, 그리움도 의미가 없어지니까."},
            {"speaker": "ARTEMIS", "text": "...파일럿. 너 지금 슬퍼 보여."},
            {"speaker": "PILOT", "text": "슬퍼. 생전 처음으로. 내 고향이 잃어버린 것들을 생각하면... 가슴이 아파."},
            {"speaker": "ARTEMIS", "text": "그건 네가 다시 '느낄 수 있게' 됐다는 증거야. 지구가, 내가, 너한테 계절을 돌려준 거야."},
            {"speaker": "PILOT", "text": "...고마워, 아르테미스. 너와 함께한 10년의 사계절이 내 영혼에 새 생명을 불어넣었어."},
        ],
    },
}

# =========================================================
# 철학적 대화 씬 - 시간, 영원 vs 순간
# =========================================================
PHILOSOPHY_DIALOGUES = {
    # 1. 영원 vs 순간
    "eternity_vs_moment": {
        "background": "bg_sunset_horizon.jpg",
        "trigger_act": 4,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[지구 폐허 전망대 - 석양이 지평선을 물들인다]"},
            {"speaker": "ARTEMIS", "text": "...저 노을, 곧 사라질 거야. 몇 분 후면 어둠이 내릴 거야."},
            {"speaker": "PILOT", "text": "안드로메다에서는 이 순간을 '결함'이라고 불렀어. 영원하지 못한 것의 한계."},
            {"speaker": "ARTEMIS", "text": "하지만 저 순간은... 지금만 존재해. 정확히 저 색, 저 빛은 다시 오지 않아."},
            {"speaker": "PILOT", "text": "그것이 가치가 있다고 생각해? 영원하지 않은 것이?"},
            {"speaker": "ARTEMIS", "text": "물론이지. 오히려 영원하지 않기 때문에 가치가 있어."},
            {"speaker": "PILOT", "text": "...이해가 안 돼. 논리적으로, 영원한 것이 더 가치있어야 해. 지속되니까."},
            {"speaker": "ARTEMIS", "text": "그럼 물어볼게. 영원히 지지 않는 노을이 있다면, 너 매일 올려다볼 거야?"},
            {"speaker": "PILOT", "text": "...아니. 항상 거기 있으면 굳이 볼 필요가..."},
            {"speaker": "ARTEMIS", "text": "바로 그거야. 영원한 것은 당연해지고, 당연한 것은 소중하지 않게 느껴져."},
            {"speaker": "PILOT", "text": "...그래서 안드로메다인들이 아무것도 소중히 여기지 않았던 건가? 모든 것이 영원했으니까?"},
            {"speaker": "ARTEMIS", "text": "아마도. 순간이 있어야 '지금'이 특별해져. 끝이 있어야 시작이 의미있어지고."},
            {"speaker": "PILOT", "text": "...영원은 '가짐'이고, 순간은 '느낌'이라는 건가."},
            {"speaker": "ARTEMIS", "text": "정확해. 그리고 우리가 진짜 살아있다고 느끼는 건... 느끼는 순간이잖아."},
            {"speaker": "PILOT", "text": "...지금 이 순간처럼. 너와 함께 노을을 보는 이 찰나가... 영원보다 더 값지게 느껴져."},
        ],
    },
    # 2. 시간을 먹는 카오스
    "chaos_eats_time": {
        "background": "bg_chaos_void.jpg",
        "trigger_act": 5,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[차원 게이트 앞 - 카오스의 에너지가 소용돌이친다]"},
            {"speaker": "PILOT", "text": "아르테미스, 카오스가 파괴하는 것이 무엇인지 알아?"},
            {"speaker": "ARTEMIS", "text": "생명? 문명? 희망?"},
            {"speaker": "PILOT", "text": "더 근본적인 것이야. 카오스는 '시간'을 먹어."},
            {"speaker": "ARTEMIS", "text": "시간을... 먹는다고?"},
            {"speaker": "PILOT", "text": "정확히는, 시간의 흐름을 정지시켜. 카오스가 지배하는 곳에서는 '다음'이라는 개념이 사라져."},
            {"speaker": "ARTEMIS", "text": "다음이 없으면... 희망도 없겠네."},
            {"speaker": "PILOT", "text": "맞아. 카오스가 희망을 두려워하는 이유야. 희망은 '다음을 기대하는 감정'이니까."},
            {"speaker": "ARTEMIS", "text": "그래서 안드로메다가 시간을 멈춘 것과... 카오스가 시간을 파괴하는 것은..."},
            {"speaker": "PILOT", "text": "결과적으로 같아. 둘 다 '변화'를 두려워한 거야. 변화가 불확실성을 가져오니까."},
            {"speaker": "ARTEMIS", "text": "하지만 우리는 달라. 우리는 변화 속에서 희망을 찾았어."},
            {"speaker": "PILOT", "text": "그래서 네가 카오스의 천적인 거야. 시간을 사랑하는 존재. 변화를 받아들이는 영혼."},
            {"speaker": "ARTEMIS", "text": "시간을 사랑한다... 그렇게 생각해본 적 없는데."},
            {"speaker": "PILOT", "text": "하지만 너는 10년을 버텼잖아. 시간이 흐른다는 것을 믿으면서. '언젠가'를 기대하면서."},
            {"speaker": "ARTEMIS", "text": "...맞아. 시간이 나를 데려다줄 거라고 믿었어. 기다린 만큼, 반드시 만날 수 있다고."},
            {"speaker": "PILOT", "text": "그 믿음이 카오스를 물리치는 열쇠야. 시간을 믿는 자만이 희망을 품을 수 있으니까."},
        ],
    },
    # 3. 안드로메다가 시간을 멈춘 이유
    "why_andromeda_stopped_time": {
        "background": "bg_andromeda_council.jpg",
        "trigger_act": 5,
        "cutscene_type": "andromeda_world",
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[안드로메다 위원회 기록 재생 - 10만 년 전의 논쟁]"},
            {"speaker": "PILOT", "text": "...보여줄게. 안드로메다가 시간을 멈추기로 결정한 순간을."},
            {"speaker": "ARTEMIS", "text": "왜 그런 결정을 했어? 시간을 죽인다니..."},
            {"speaker": "PILOT", "text": "(홀로그램 재생) 당시 기록이야. 위원회의 논쟁."},
            {"speaker": "NARRATOR", "text": "[홀로그램: 안드로메다 고대 위원회]"},
            {"speaker": "NARRATOR", "text": "'시간이 흐르면 상실이 발생합니다. 상실은 고통입니다. 고통은 비효율입니다.'"},
            {"speaker": "NARRATOR", "text": "'시간을 정지시키면 영원히 현재에 머물 수 있습니다. 상실도, 고통도, 슬픔도 없는 완벽한 상태.'"},
            {"speaker": "ARTEMIS", "text": "...고통이 싫어서 시간을 멈췄다고?"},
            {"speaker": "PILOT", "text": "맞아. 우리 조상들은 상실의 고통을 견딜 수 없었어. 사랑하는 것을 잃는 아픔이 너무 컸지."},
            {"speaker": "ARTEMIS", "text": "하지만 그래서 사랑 자체를 잃어버린 거잖아! 고통을 피하려다 기쁨까지 버린 거야!"},
            {"speaker": "PILOT", "text": "...네 말이 맞아. 그게 우리 문명의 가장 큰 실수였어."},
            {"speaker": "ARTEMIS", "text": "상실이 있어야 소중함을 알 수 있어. 고통이 있어야 기쁨이 빛나는 거야."},
            {"speaker": "PILOT", "text": "10년 동안 너를 보면서 배웠어. 네 부모님을 잃은 고통이 얼마나 컸는지..."},
            {"speaker": "ARTEMIS", "text": "응. 정말 아팠어. 지금도 아파."},
            {"speaker": "PILOT", "text": "하지만 그 고통이 너의 희망을 만들었지. 다시 만나겠다는 그 불꽃을."},
            {"speaker": "ARTEMIS", "text": "고통 없이는... 희망도 없겠네. 잃을 것이 없으면 지킬 것도 없으니까."},
            {"speaker": "PILOT", "text": "...시간이 흐른다는 건 '지금'이 계속 새로 태어난다는 뜻이구나. 매 순간이 유일하고, 그래서 소중하고."},
            {"speaker": "ARTEMIS", "text": "파일럿... 너 방금 완전히 이해한 거야."},
            {"speaker": "PILOT", "text": "네 덕분이야. 10년의 사계절이 내게 가르쳐준 진리야."},
        ],
    },
    # 4. 시간이란 존재하는가?
    "does_time_exist": {
        "background": "bg_dimension_gate.jpg",
        "trigger_act": 5,
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[차원 게이트 내부 - 시공간의 경계에서]"},
            {"speaker": "ARTEMIS", "text": "파일럿... 여기선 시간이 이상하게 느껴져."},
            {"speaker": "PILOT", "text": "차원의 경계니까. 과거, 현재, 미래가 동시에 존재하는 곳."},
            {"speaker": "ARTEMIS", "text": "그럼... 시간이란 뭐야? 정말 존재하는 거야?"},
            {"speaker": "PILOT", "text": "물리학적으로는 존재해. 엔트로피의 방향, 빛의 속도에 연관된 차원."},
            {"speaker": "ARTEMIS", "text": "그건 과학적 정의잖아. 내가 묻는 건... 우리가 느끼는 시간 말이야."},
            {"speaker": "PILOT", "text": "...무슨 뜻이야?"},
            {"speaker": "ARTEMIS", "text": "10년 동안 널 기다릴 때, 하루하루가 영겁 같았어. 하지만 지금 너와 함께 있으면 시간이 순식간에 지나가."},
            {"speaker": "PILOT", "text": "같은 시간인데 다르게 느껴진다는 거지?"},
            {"speaker": "ARTEMIS", "text": "응. 그럼 진짜 시간은 뭐야? 시계가 재는 시간? 아니면 마음이 느끼는 시간?"},
            {"speaker": "PILOT", "text": "...안드로메다는 그 질문에 '시계'라고 답했어. 객관적으로 측정 가능한 것만 인정했지."},
            {"speaker": "ARTEMIS", "text": "하지만 그래서 영혼이 사라진 거잖아. 마음의 시간을 인정하지 않으면..."},
            {"speaker": "PILOT", "text": "감정도 사라지지. 기다림의 지루함도, 함께함의 기쁨도 존재하지 않게 되니까."},
            {"speaker": "ARTEMIS", "text": "그러니까... 시간은 사실 두 개야. 우주의 시간과 마음의 시간."},
            {"speaker": "PILOT", "text": "그리고 둘 중 더 '진짜'인 건... 마음의 시간인 것 같아."},
            {"speaker": "ARTEMIS", "text": "왜?"},
            {"speaker": "PILOT", "text": "우주의 시간이 아무리 흘러도, 마음의 시간이 멈추면 살아있는 게 아니니까. 반대로, 단 하루라도 마음이 충만하면 영원처럼 느껴지잖아."},
            {"speaker": "ARTEMIS", "text": "파일럿... 너 정말 지구인이 다 됐다."},
            {"speaker": "PILOT", "text": "(미소) 아니. 네 덕분에 '살아있는 존재'가 됐어. 시간을 느끼는 존재. 순간을 사랑하는 존재."},
        ],
    },
}

# =========================================================
# 안드로메다 스토리 - 사이버펑크 고대 도시 연출
# =========================================================
ANDROMEDA_STORY_DATA = {
    # 안드로메다 행성 비주얼 설정
    "visual_config": {
        "sky_color": (40, 20, 60),  # 짙은 보라/검은색
        "neon_colors": [(0, 255, 255), (200, 100, 255), (255, 150, 50)],  # 청록/보라/주황
        "building_style": "pyramid_with_circuits",
        "sun_position": "fixed",  # 태양 고정 (밤낮 없음)
        "atmosphere": "eternal_twilight",  # 영원한 황혼
    },
    # 안드로메다 도시 묘사 대사
    "city_description": {
        "dialogues": [
            {"speaker": "PILOT", "text": "안드로메다는 10만 년 전에 완성된 세계다. 고대의 지혜와 기술이 융합된... 영원히 변하지 않는 도시."},
            {"speaker": "PILOT", "text": "수천 년 된 석조 건물에 빛나는 네온 회로가 새겨져 있어. 고대와 미래가 뒤섞인 기묘한 풍경."},
            {"speaker": "PILOT", "text": "공중에 떠 있는 홀로그램 문자들... 10만 년 동안 같은 메시지를 반복하고 있어. 변하지 않는 영원의 상징."},
            {"speaker": "PILOT", "text": "하늘은 항상 저 색이야. 짙은 보라빛 황혼. 태양이 움직이지 않아. 밤도 낮도 없어."},
        ],
    },
    # 두 세계 비교 컷씬
    "two_worlds_comparison": {
        "cutscene_type": "two_worlds",
        "dialogues": [
            {"speaker": "PILOT", "text": "안드로메다에서는 '아름다움'을 영원함으로 정의한다. 10만 년 동안 변하지 않은 완벽한 구조물. 그것이 미의 기준이었다."},
            {"speaker": "PILOT", "text": "하지만 지구의 아름다움은... 사라지기 때문에 아름답다. 벚꽃이 영원히 피어있다면, 누가 그것을 소중히 여기겠는가."},
            {"speaker": "ARTEMIS", "text": "그게 감정이야. 잃을 수 있기 때문에 소중한 거지."},
            {"speaker": "PILOT", "text": "...처음으로 '느꼈다'. 사라지는 것을 보며. 이것이 내가 안드로메다에서 추방당한 이유다. 나는 '결함'이 생겼다. 변화를 받아들이는 결함이."},
        ],
    },
    # 안드로메다 위원회 교신
    "council_communication": {
        "cutscene_type": "andromeda_world",
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[통신 화면에 안드로메다 위원회 - 사이버펑크 고대 도시를 배경으로, 홀로그램으로 투영된 무표정한 형상들]"},
            {"speaker": "SYSTEM", "text": "[안드로메다 위원회 연결 - 암호화 통신]"},
            {"speaker": "NARRATOR", "text": "(기계적인 음성) '파일럿 7-42. 너의 전송 데이터를 분석했다.'"},
            {"speaker": "NARRATOR", "text": "[화면에 지구 사계절 이미지들이 스캔됨 - 안드로메다 고대 문자로 분석 중]"},
            {"speaker": "NARRATOR", "text": "'...예상치 못한 변수다. 계절이라는 순환 패턴. 10만 년 전, 우리가 제거한 것과 동일한 구조.'"},
            {"speaker": "ARTEMIS", "text": "...제거했다고?"},
            {"speaker": "NARRATOR", "text": "'변화는 불완전함이다. 우리는 완벽을 위해 시간을 정복했다. 그런데 이 행성은... 불완전함 속에서 에너지를 생성한다.'"},
            {"speaker": "PILOT", "text": "그것이 '희망'입니다. 변화가 있기에 내일을 기대할 수 있습니다. 카오스를 물리친 것도 이 에너지입니다."},
            {"speaker": "NARRATOR", "text": "[위원회, 오랜 침묵 - 홀로그램이 잠시 흔들림]"},
            {"speaker": "NARRATOR", "text": "'...우리 문명이 잃어버린 것이 있다면, 그것이 무엇인지 이제야 계산되기 시작한다.'"},
            {"speaker": "NARRATOR", "text": "'파일럿 7-42. 너의 임무를 재정의한다. 지구를 관찰하라. 우리가 버린 것의 가치를... 증명할 수 있는지, 지켜보겠다.'"},
            {"speaker": "ARTEMIS", "text": "...파일럿, 지금 뭐라고 한 거야?"},
            {"speaker": "PILOT", "text": "...안드로메다가 의문을 품기 시작했다. 10만 년 만에 처음으로. 네가 보여준 것 때문에."},
            {"speaker": "ARTEMIS", "text": "그게... 좋은 거야?"},
            {"speaker": "PILOT", "text": "...모르겠다. 하지만 변화의 시작이다. 영원히 멈춰있던 문명이 움직이기 시작한 거니까."},
        ],
    },
    # 계절을 통한 감정 학습
    "seasons_emotion_learning": {
        "cutscene_type": "season_memory",
        "dialogues": [
            {"speaker": "NARRATOR", "text": "[빠르게 전환되는 사계절 + 파일럿/아르테미스 장면]"},
            {"speaker": "NARRATOR", "text": "[봄 - 벚꽃 아래]"},
            {"speaker": "PILOT", "text": "(독백) 봄. 아르테미스가 '희망'을 가르쳐줬다."},
            {"speaker": "NARRATOR", "text": "[여름 - 햇살 아래 훈련]"},
            {"speaker": "PILOT", "text": "(독백) 여름. '열정'을 배웠다."},
            {"speaker": "NARRATOR", "text": "[가을 - 낙엽 지는 공원]"},
            {"speaker": "PILOT", "text": "(독백) 가을. '그리움'을 알았다."},
            {"speaker": "NARRATOR", "text": "[겨울 - 눈 내리는 밤]"},
            {"speaker": "PILOT", "text": "(독백) 겨울. '따뜻함'을 느꼈다."},
            {"speaker": "NARRATOR", "text": "[현재로 돌아옴]"},
            {"speaker": "PILOT", "text": "10년의 계절이 나를 바꿨다. 안드로메다인이 아닌, 너의 가족으로."},
        ],
    },
}

# =========================================================
# 전투 중 실시간 대사 시스템
# =========================================================
COMBAT_DIALOGUES = {
    # 킬 마일스톤 대사
    "kill_milestones": {
        5: [
            {"speaker": "ARTEMIS", "text": "좋아, 이 조로!"},
            {"speaker": "PILOT", "text": "리듬을 잡고 있어."},
        ],
        10: [
            {"speaker": "ARTEMIS", "text": "수가 많아... 하지만 멈출 수 없어!"},
            {"speaker": "PILOT", "text": "좋아, 계속 밀어붙여!"},
        ],
        15: [
            {"speaker": "PILOT", "text": "적의 수가 줄고 있어. 끝이 보인다."},
            {"speaker": "ARTEMIS", "text": "거의 다 왔어!"},
        ],
        20: [
            {"speaker": "ARTEMIS", "text": "이 정도면 충분해!"},
            {"speaker": "PILOT", "text": "훌륭해. 역시 네 실력이야."},
        ],
    },
    # HP 임계값 대사
    "hp_thresholds": {
        0.5: [  # HP 50% 이하
            {"speaker": "PILOT", "text": "조심해! 쉴드가 약해지고 있어!"},
            {"speaker": "SYSTEM", "text": "[경고: 선체 손상 50%]"},
        ],
        0.25: [  # HP 25% 이하
            {"speaker": "ARTEMIS", "text": "버텨야 해... 여기서 끝날 순 없어!"},
            {"speaker": "PILOT", "text": "긴급 회피 기동! 지금!"},
        ],
        0.1: [  # HP 10% 이하
            {"speaker": "PILOT", "text": "위험 수위야! 후퇴를 고려해!"},
            {"speaker": "ARTEMIS", "text": "아직... 아직이야!"},
        ],
    },
    # 특수 적 등장 대사
    "enemy_spawn": {
        "TANK": [
            {"speaker": "PILOT", "text": "탱크 타입이다! 화력을 집중해!"},
            {"speaker": "ARTEMIS", "text": "저 거대한 녀석... 조심해야겠어."},
        ],
        "SUMMONER": [
            {"speaker": "ARTEMIS", "text": "저놈을 빨리 잡아! 다른 놈들을 소환해!"},
            {"speaker": "PILOT", "text": "소환사 타입! 우선 제거 대상이야!"},
        ],
        "KAMIKAZE": [
            {"speaker": "PILOT", "text": "자폭병이다! 가까이 오기 전에 처리해!"},
            {"speaker": "ARTEMIS", "text": "저건... 피해야 해!"},
        ],
        "SNIPER": [
            {"speaker": "PILOT", "text": "저격수가 있어! 이동하면서 싸워!"},
            {"speaker": "ARTEMIS", "text": "멈추면 안 돼!"},
        ],
        "HEALER": [
            {"speaker": "ARTEMIS", "text": "힐러다! 먼저 잡지 않으면 끝이 없어!"},
            {"speaker": "PILOT", "text": "적 치유 유닛 감지! 우선순위 변경!"},
        ],
    },
    # 목표 진행률 대사
    "objective_progress": {
        "defense_50": [
            {"speaker": "SYSTEM", "text": "[방어 진행률 50% - 계속 버텨라!]"},
            {"speaker": "PILOT", "text": "절반이야! 조금만 더!"},
        ],
        "defense_75": [
            {"speaker": "ARTEMIS", "text": "거의 다 됐어! 끝까지 버텨!"},
            {"speaker": "PILOT", "text": "75%! 승리가 눈앞이야!"},
        ],
        "survival_half": [
            {"speaker": "PILOT", "text": "절반 왔어! 조금만 더 버텨!"},
            {"speaker": "ARTEMIS", "text": "시간이 우리 편이야!"},
        ],
        "data_collected": [
            {"speaker": "ARTEMIS", "text": "데이터 코어 획득! 더 찾아야 해!"},
            {"speaker": "PILOT", "text": "좋아, 계속해!"},
        ],
        "escort_half": [
            {"speaker": "PILOT", "text": "호위 대상 절반 도달! 계속 보호해!"},
            {"speaker": "ARTEMIS", "text": "거의 다 왔어! 포기하지 마!"},
        ],
    },
}

# =========================================================
# 보스 페이즈별 대사
# =========================================================
BOSS_PHASE_DIALOGUES = {
    # Act 1 보스: Shadow Scout (정찰자 - 숙주 탐색)
    1: {
        "appear": {"speaker": "BOSS", "text": "숙주 후보 감지... 융합 적합성 스캔 중..."},
        "phase2": {"speaker": "BOSS", "text": "저항하는군... 의지가 강할수록 융합 후 더 강해진다!"},
        "phase2_pilot": {"speaker": "PILOT", "text": "(분석) 적 에너지 패턴 변화 감지. 공격 주기가 빨라졌다."},
        "phase3": {"speaker": "BOSS", "text": "수확 대상 확정! 카오스에 바쳐라!"},
        "phase3_artemis": {"speaker": "ARTEMIS", "text": "내 의지는 네가 가져갈 수 없어!"},
        "near_death": {"speaker": "PILOT", "text": "적 에너지 잔량 12%. 연산 결과: 승리 확률 94.7%."},
        "defeat": {"speaker": "BOSS", "text": "스캔 데이터는... 이미 전송되었다... 본대가... 온다..."},
    },
    # Act 2 보스: Data Extractor (데이터 수집자 - 기억 수확)
    2: {
        "appear": {"speaker": "BOSS", "text": "2,847명의 기억 데이터 추출 완료... 네 기억도 수확하겠다..."},
        "phase2": {"speaker": "BOSS", "text": "저항할수록 고통스럽다... 순순히 융합을 받아들여라..."},
        "phase2_pilot": {"speaker": "PILOT", "text": "(분석) 적이 정신 간섭파를 방출 중. 집중력 유지 권장."},
        "phase3": {"speaker": "BOSS", "text": "감정 데이터... 희망... 분석 불가 오류... 강제 추출!"},
        "phase3_artemis": {"speaker": "ARTEMIS", "text": "이 기억들은 내 것이야! 네가 이해할 수 없는 것들!"},
        "near_death": {"speaker": "PILOT", "text": "데이터 링크 손상률 87%. 완전 차단까지 예상 13초."},
        "defeat": {"speaker": "BOSS", "text": "희망... 이라는 데이터... 형식 오류... 분석... 실패..."},
    },
    # Act 3 보스: Inferno Guardian (정화의 불꽃 - 감정 소각)
    3: {
        "appear": {"speaker": "BOSS", "text": "사랑이라는 결함... 불꽃으로 정화해주마..."},
        "phase2": {"speaker": "BOSS", "text": "융합을 거부한 자들의 최후를 보여주겠다! 전부 태워버려!"},
        "phase2_pilot": {"speaker": "PILOT", "text": "(분석) 화염 온도 상승 중. 현재 1,200°C. 쉴드 내열 한계 근접."},
        "phase3": {"speaker": "BOSS", "text": "감정은 불순물! 카오스는 순수한 의지만 수확한다!"},
        "phase3_artemis": {"speaker": "ARTEMIS", "text": "사랑은 불순물이 아니야! 내 힘의 원천이야!"},
        "near_death": {"speaker": "PILOT", "text": "화염 출력 급감. 적 코어 온도 임계치 이하로 하락 중."},
        "defeat": {"speaker": "BOSS", "text": "이 불길이... 꺼지지 않아... 네 안의 불꽃에..."},
    },
    # Act 4 보스: Memory Phantom (기억의 망령 - 융합 실패체)
    4: {
        "appear": {"speaker": "BOSS", "text": "우리는... 융합에 실패한 자들... 247명의 목소리가... 들리는가..."},
        "phase2": {"speaker": "BOSS", "text": "카오스가 버린 껍데기들... 네 부모도 이렇게 될 것이다..."},
        "phase2_pilot": {"speaker": "PILOT", "text": "(분석) 복수의 의식 패턴 감지. 추정 인원: 247명. 이것은... 비극이다."},
        "phase3": {"speaker": "BOSS", "text": "희망은 고통을 연장할 뿐... 포기해라... 우리처럼..."},
        "phase3_artemis": {"speaker": "ARTEMIS", "text": "부모님은 달라! 난 반드시 구할 거야!"},
        "near_death": {"speaker": "PILOT", "text": "의식 결합 해체 중. 그들이... 해방되고 있다."},
        "defeat": {"speaker": "BOSS", "text": "고마워... 드디어... 쉴 수 있어... 기다리고 있을게... 저 너머에서..."},
    },
    # Act 5 보스: Chaos Vanguard Commander (카오스 사령관 - 완전 융합체)
    5: {
        "appear": {"speaker": "BOSS", "text": "10년을 기다렸다... 가장 강인한 정신... 완벽한 숙주..."},
        "appear_pilot": {"speaker": "PILOT", "text": "(분석) 에너지 수준: 측정 불가. 지금까지의 적과 차원이 다르다."},
        "phase2": {"speaker": "BOSS", "text": "안드로메다인이 인간과 함께? 흥미롭군... 그 결함이 네 패배의 원인이다..."},
        "phase2_pilot": {"speaker": "PILOT", "text": "결함이 아니다. 이것은 '선택'이다. 처음으로 내가 원해서 한 선택."},
        "phase3": {"speaker": "BOSS", "text": "카오스는 완전함이다! 감정 따위 버리고 융합해라!"},
        "phase3_artemis": {"speaker": "ARTEMIS", "text": "감정이 있기에 싸울 수 있어! 네가 이해 못 하는 힘이야!"},
        "near_death": {"speaker": "PILOT", "text": "적 코어 붕괴 임박. 아르테미스... '가족'을 위해 끝내자."},
        "defeat": {"speaker": "BOSS", "text": "불가능하다... 감정 없는 존재가... 감정으로 나를... 이것이 '희망'인가..."},
    },
}

# =========================================================
# 헬퍼 함수들
# =========================================================
def get_earth_beauty_dialogue(scene_key: str) -> dict:
    """지구 아름다움 대화 씬 데이터 반환"""
    return EARTH_BEAUTY_DIALOGUES.get(scene_key, {})


def get_philosophy_dialogue(scene_key: str) -> dict:
    """철학적 대화 씬 데이터 반환"""
    return PHILOSOPHY_DIALOGUES.get(scene_key, {})


def get_andromeda_story(story_key: str) -> dict:
    """안드로메다 스토리 데이터 반환"""
    return ANDROMEDA_STORY_DATA.get(story_key, {})


def get_combat_dialogue(trigger_type: str, trigger_value) -> list:
    """전투 중 대사 반환"""
    if trigger_type == "kill":
        return COMBAT_DIALOGUES["kill_milestones"].get(trigger_value, [])
    elif trigger_type == "hp":
        return COMBAT_DIALOGUES["hp_thresholds"].get(trigger_value, [])
    elif trigger_type == "enemy":
        return COMBAT_DIALOGUES["enemy_spawn"].get(trigger_value, [])
    elif trigger_type == "objective":
        return COMBAT_DIALOGUES["objective_progress"].get(trigger_value, [])
    return []


def get_boss_phase_dialogue(act: int, phase: str) -> dict:
    """보스 페이즈별 대사 반환"""
    boss_data = BOSS_PHASE_DIALOGUES.get(act, {})
    return boss_data.get(phase, {})


print("INFO: config_story_dialogue.py loaded")
